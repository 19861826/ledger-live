import"../../../assets/js/modulepreload-polyfill.0c213636.js";import{r as Re,j as Nr,a as bs,c as _s}from"../../../assets/js/client.5dec7e36.js";import{o as no,s as Nn,c as ws,r as As}from"../../../assets/js/index.09a134a0.js";var br=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Nt=function(e,r){return Nt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)n.hasOwnProperty(o)&&(t[o]=n[o])},Nt(e,r)};function W(e,r){Nt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function $t(e){return typeof e=="function"}var $n=!1,fe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var r=new Error;""+r.stack}$n=e},get useDeprecatedSynchronousErrorHandling(){return $n}};function ze(e){setTimeout(function(){throw e},0)}var Cr={closed:!0,next:function(e){},error:function(e){if(fe.useDeprecatedSynchronousErrorHandling)throw e;ze(e)},complete:function(){}},io=function(){return Array.isArray||function(e){return e&&typeof e.length=="number"}}();function oo(e){return e!==null&&typeof e=="object"}var Is=function(){function e(r){return Error.call(this),this.message=r?r.length+` errors occurred during unsubscription:
`+r.map(function(t,n){return n+1+") "+t.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=r,this}return e.prototype=Object.create(Error.prototype),e}(),$r=Is,he=function(){function e(r){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,r&&(this._ctorUnsubscribe=!0,this._unsubscribe=r)}return e.prototype.unsubscribe=function(){var r;if(!this.closed){var t=this,n=t._parentOrParents,o=t._ctorUnsubscribe,i=t._unsubscribe,c=t._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(n!==null)for(var u=0;u<n.length;++u){var h=n[u];h.remove(this)}if($t(i)){o&&(this._unsubscribe=void 0);try{i.call(this)}catch(E){r=E instanceof $r?Pn(E.errors):[E]}}if(io(c))for(var u=-1,f=c.length;++u<f;){var v=c[u];if(oo(v))try{v.unsubscribe()}catch(b){r=r||[],b instanceof $r?r=r.concat(Pn(b.errors)):r.push(b)}}if(r)throw new $r(r)}},e.prototype.add=function(r){var t=r;if(!r)return e.EMPTY;switch(typeof r){case"function":t=new e(r);case"object":if(t===this||t.closed||typeof t.unsubscribe!="function")return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof e)){var n=t;t=new e,t._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+r+" added to Subscription.")}var o=t._parentOrParents;if(o===null)t._parentOrParents=this;else if(o instanceof e){if(o===this)return t;t._parentOrParents=[o,this]}else if(o.indexOf(this)===-1)o.push(this);else return t;var i=this._subscriptions;return i===null?this._subscriptions=[t]:i.push(t),t},e.prototype.remove=function(r){var t=this._subscriptions;if(t){var n=t.indexOf(r);n!==-1&&t.splice(n,1)}},e.EMPTY=function(r){return r.closed=!0,r}(new e),e}();function Pn(e){return e.reduce(function(r,t){return r.concat(t instanceof $r?t.errors:t)},[])}var Dr=function(){return typeof Symbol=="function"?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),ce=function(e){W(r,e);function r(t,n,o){var i=e.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=Cr;break;case 1:if(!t){i.destination=Cr;break}if(typeof t=="object"){t instanceof r?(i.syncErrorThrowable=t.syncErrorThrowable,i.destination=t,t.add(i)):(i.syncErrorThrowable=!0,i.destination=new Ln(i,t));break}default:i.syncErrorThrowable=!0,i.destination=new Ln(i,t,n,o);break}return i}return r.prototype[Dr]=function(){return this},r.create=function(t,n,o){var i=new r(t,n,o);return i.syncErrorThrowable=!1,i},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this))},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},r.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},r.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},r}(he),Ln=function(e){W(r,e);function r(t,n,o,i){var c=e.call(this)||this;c._parentSubscriber=t;var u,h=c;return $t(n)?u=n:n&&(u=n.next,o=n.error,i=n.complete,n!==Cr&&(h=Object.create(n),$t(h.unsubscribe)&&c.add(h.unsubscribe.bind(h)),h.unsubscribe=c.unsubscribe.bind(c))),c._context=h,c._next=u,c._error=o,c._complete=i,c}return r.prototype.next=function(t){if(!this.isStopped&&this._next){var n=this._parentSubscriber;!fe.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?this.__tryOrUnsub(this._next,t):this.__tryOrSetError(n,this._next,t)&&this.unsubscribe()}},r.prototype.error=function(t){if(!this.isStopped){var n=this._parentSubscriber,o=fe.useDeprecatedSynchronousErrorHandling;if(this._error)!o||!n.syncErrorThrowable?(this.__tryOrUnsub(this._error,t),this.unsubscribe()):(this.__tryOrSetError(n,this._error,t),this.unsubscribe());else if(n.syncErrorThrowable)o?(n.syncErrorValue=t,n.syncErrorThrown=!0):ze(t),this.unsubscribe();else{if(this.unsubscribe(),o)throw t;ze(t)}}},r.prototype.complete=function(){var t=this;if(!this.isStopped){var n=this._parentSubscriber;if(this._complete){var o=function(){return t._complete.call(t._context)};!fe.useDeprecatedSynchronousErrorHandling||!n.syncErrorThrowable?(this.__tryOrUnsub(o),this.unsubscribe()):(this.__tryOrSetError(n,o),this.unsubscribe())}else this.unsubscribe()}},r.prototype.__tryOrUnsub=function(t,n){try{t.call(this._context,n)}catch(o){if(this.unsubscribe(),fe.useDeprecatedSynchronousErrorHandling)throw o;ze(o)}},r.prototype.__tryOrSetError=function(t,n,o){if(!fe.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{n.call(this._context,o)}catch(i){return fe.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(ze(i),!0)}return!1},r.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},r}(ce);function Ss(e){for(;e;){var r=e,t=r.closed,n=r.destination,o=r.isStopped;if(t||o)return!1;n&&n instanceof ce?e=n:e=null}return!0}function Ts(e,r,t){if(e){if(e instanceof ce)return e;if(e[Dr])return e[Dr]()}return!e&&!r&&!t?new ce(Cr):new ce(e,r,t)}var pr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function xs(e){return e}function Os(e){return e.length===0?xs:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var Z=function(){function e(r){this._isScalar=!1,r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var o=this.operator,i=Ts(r,t,n);if(o?i.add(o.call(i,this.source)):i.add(this.source||fe.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),fe.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){fe.useDeprecatedSynchronousErrorHandling&&(r.syncErrorThrown=!0,r.syncErrorValue=t),Ss(r)?r.error(t):console.warn(t)}},e.prototype.forEach=function(r,t){var n=this;return t=Cn(t),new t(function(o,i){var c;c=n.subscribe(function(u){try{r(u)}catch(h){i(h),c&&c.unsubscribe()}},i,o)})},e.prototype._subscribe=function(r){var t=this.source;return t&&t.subscribe(r)},e.prototype[pr]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return r.length===0?this:Os(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=Cn(r),new r(function(n,o){var i;t.subscribe(function(c){return i=c},function(c){return o(c)},function(){return n(i)})})},e.create=function(r){return new e(r)},e}();function Cn(e){if(e||(e=fe.Promise||Promise),!e)throw new Error("no Promise impl found");return e}var Rs=function(){function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e}(),sr=Rs,Ns=function(e){W(r,e);function r(t,n){var o=e.call(this)||this;return o.subject=t,o.subscriber=n,o.closed=!1,o}return r.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,n=t.observers;if(this.subject=null,!(!n||n.length===0||t.isStopped||t.closed)){var o=n.indexOf(this.subscriber);o!==-1&&n.splice(o,1)}}},r}(he),$s=function(e){W(r,e);function r(t){var n=e.call(this,t)||this;return n.destination=t,n}return r}(ce),Wt=function(e){W(r,e);function r(){var t=e.call(this)||this;return t.observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return r.prototype[Dr]=function(){return new $s(this)},r.prototype.lift=function(t){var n=new Dn(this,this);return n.operator=t,n},r.prototype.next=function(t){if(this.closed)throw new sr;if(!this.isStopped)for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].next(t)},r.prototype.error=function(t){if(this.closed)throw new sr;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var n=this.observers,o=n.length,i=n.slice(),c=0;c<o;c++)i[c].error(t);this.observers.length=0},r.prototype.complete=function(){if(this.closed)throw new sr;this.isStopped=!0;for(var t=this.observers,n=t.length,o=t.slice(),i=0;i<n;i++)o[i].complete();this.observers.length=0},r.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},r.prototype._trySubscribe=function(t){if(this.closed)throw new sr;return e.prototype._trySubscribe.call(this,t)},r.prototype._subscribe=function(t){if(this.closed)throw new sr;return this.hasError?(t.error(this.thrownError),he.EMPTY):this.isStopped?(t.complete(),he.EMPTY):(this.observers.push(t),new Ns(this,t))},r.prototype.asObservable=function(){var t=new Z;return t.source=this,t},r.create=function(t,n){return new Dn(t,n)},r}(Z),Dn=function(e){W(r,e);function r(t,n){var o=e.call(this)||this;return o.destination=t,o.source=n,o}return r.prototype.next=function(t){var n=this.destination;n&&n.next&&n.next(t)},r.prototype.error=function(t){var n=this.destination;n&&n.error&&this.destination.error(t)},r.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},r.prototype._subscribe=function(t){var n=this.source;return n?this.source.subscribe(t):he.EMPTY},r}(Wt),Ps=function(e){W(r,e);function r(t,n){return e.call(this)||this}return r.prototype.schedule=function(t,n){return this},r}(he),Ls=function(e){W(r,e);function r(t,n){var o=e.call(this,t,n)||this;return o.scheduler=t,o.work=n,o.pending=!1,o}return r.prototype.schedule=function(t,n){if(n===void 0&&(n=0),this.closed)return this;this.state=t;var o=this.id,i=this.scheduler;return o!=null&&(this.id=this.recycleAsyncId(i,o,n)),this.pending=!0,this.delay=n,this.id=this.id||this.requestAsyncId(i,this.id,n),this},r.prototype.requestAsyncId=function(t,n,o){return o===void 0&&(o=0),setInterval(t.flush.bind(t,this),o)},r.prototype.recycleAsyncId=function(t,n,o){if(o===void 0&&(o=0),o!==null&&this.delay===o&&this.pending===!1)return n;clearInterval(n)},r.prototype.execute=function(t,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var o=this._execute(t,n);if(o)return o;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},r.prototype._execute=function(t,n){var o=!1,i=void 0;try{this.work(t)}catch(c){o=!0,i=!!c&&c||new Error(c)}if(o)return this.unsubscribe(),i},r.prototype._unsubscribe=function(){var t=this.id,n=this.scheduler,o=n.actions,i=o.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,i!==-1&&o.splice(i,1),t!=null&&(this.id=this.recycleAsyncId(n,t,null)),this.delay=null},r}(Ps),Bn=function(){function e(r,t){t===void 0&&(t=e.now),this.SchedulerAction=r,this.now=t}return e.prototype.schedule=function(r,t,n){return t===void 0&&(t=0),new this.SchedulerAction(this,r).schedule(n,t)},e.now=function(){return Date.now()},e}(),Cs=function(e){W(r,e);function r(t,n){n===void 0&&(n=Bn.now);var o=e.call(this,t,function(){return r.delegate&&r.delegate!==o?r.delegate.now():n()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return r.prototype.schedule=function(t,n,o){return n===void 0&&(n=0),r.delegate&&r.delegate!==this?r.delegate.schedule(t,n,o):e.prototype.schedule.call(this,t,n,o)},r.prototype.flush=function(t){var n=this.actions;if(this.active){n.push(t);return}var o;this.active=!0;do if(o=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,o){for(;t=n.shift();)t.unsubscribe();throw o}},r}(Bn);function Pt(e){return e&&typeof e.schedule=="function"}var so=function(e){return function(r){for(var t=0,n=e.length;t<n&&!r.closed;t++)r.next(e[t]);r.complete()}};function Jt(e,r){return new Z(function(t){var n=new he,o=0;return n.add(r.schedule(function(){if(o===e.length){t.complete();return}t.next(e[o++]),t.closed||n.add(this.schedule())})),n})}function Ds(e,r){return r?Jt(e,r):new Z(so(e))}function Zt(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=e[e.length-1];return Pt(t)?(e.pop(),Jt(e,t)):Ds(e)}function Hr(e,r){return r?new Z(function(t){return r.schedule(Bs,0,{error:e,subscriber:t})}):new Z(function(t){return t.error(e)})}function Bs(e){var r=e.error,t=e.subscriber;t.error(r)}var Fs=new Cs(Ls),Qt=Fs,Us=function(){function e(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return e.prototype=Object.create(Error.prototype),e}(),Ms=Us;function en(e,r){return function(n){if(typeof e!="function")throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new Gs(e,r))}}var Gs=function(){function e(r,t){this.project=r,this.thisArg=t}return e.prototype.call=function(r,t){return t.subscribe(new js(r,this.project,this.thisArg))},e}(),js=function(e){W(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.project=n,i.count=0,i.thisArg=o||i,i}return r.prototype._next=function(t){var n;try{n=this.project.call(this.thisArg,t,this.count++)}catch(o){this.destination.error(o);return}this.destination.next(n)},r}(ce),ks=function(e){return function(r){return e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,ze),r}};function Hs(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vr=Hs(),Vs=function(e){return function(r){var t=e[Vr]();do{var n=void 0;try{n=t.next()}catch(o){return r.error(o),r}if(n.done){r.complete();break}if(r.next(n.value),r.closed)break}while(!0);return typeof t.return=="function"&&r.add(function(){t.return&&t.return()}),r}},Xs=function(e){return function(r){var t=e[pr]();if(typeof t.subscribe!="function")throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(r)}},ao=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function co(e){return!!e&&typeof e.subscribe!="function"&&typeof e.then=="function"}var uo=function(e){if(!!e&&typeof e[pr]=="function")return Xs(e);if(ao(e))return so(e);if(co(e))return ks(e);if(!!e&&typeof e[Vr]=="function")return Vs(e);var r=oo(e)?"an invalid object":"'"+e+"'",t="You provided "+r+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.";throw new TypeError(t)};function Ks(e,r){return new Z(function(t){var n=new he;return n.add(r.schedule(function(){var o=e[pr]();n.add(o.subscribe({next:function(i){n.add(r.schedule(function(){return t.next(i)}))},error:function(i){n.add(r.schedule(function(){return t.error(i)}))},complete:function(){n.add(r.schedule(function(){return t.complete()}))}}))})),n})}function qs(e,r){return new Z(function(t){var n=new he;return n.add(r.schedule(function(){return e.then(function(o){n.add(r.schedule(function(){t.next(o),n.add(r.schedule(function(){return t.complete()}))}))},function(o){n.add(r.schedule(function(){return t.error(o)}))})})),n})}function Ys(e,r){if(!e)throw new Error("Iterable cannot be null");return new Z(function(t){var n=new he,o;return n.add(function(){o&&typeof o.return=="function"&&o.return()}),n.add(r.schedule(function(){o=e[Vr](),n.add(r.schedule(function(){if(!t.closed){var i,c;try{var u=o.next();i=u.value,c=u.done}catch(h){t.error(h);return}c?t.complete():(t.next(i),this.schedule())}}))})),n})}function zs(e){return e&&typeof e[pr]=="function"}function Ws(e){return e&&typeof e[Vr]=="function"}function Js(e,r){if(e!=null){if(zs(e))return Ks(e,r);if(co(e))return qs(e,r);if(ao(e))return Jt(e,r);if(Ws(e)||typeof e=="string")return Ys(e,r)}throw new TypeError((e!==null&&typeof e||e)+" is not observable")}function Xr(e,r){return r?Js(e,r):e instanceof Z?e:new Z(uo(e))}var dr=function(e){W(r,e);function r(t){var n=e.call(this)||this;return n.parent=t,n}return r.prototype._next=function(t){this.parent.notifyNext(t)},r.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},r.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},r}(ce),vr=function(e){W(r,e);function r(){return e!==null&&e.apply(this,arguments)||this}return r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyError=function(t){this.destination.error(t)},r.prototype.notifyComplete=function(){this.destination.complete()},r}(ce);function yr(e,r){if(!r.closed){if(e instanceof Z)return e.subscribe(r);var t;try{t=uo(e)(r)}catch(n){r.error(n)}return t}}function lo(e,r,t){return t===void 0&&(t=Number.POSITIVE_INFINITY),typeof r=="function"?function(n){return n.pipe(lo(function(o,i){return Xr(e(o,i)).pipe(en(function(c,u){return r(o,c,i,u)}))},t))}:(typeof r=="number"&&(t=r),function(n){return n.lift(new Zs(e,t))})}var Zs=function(){function e(r,t){t===void 0&&(t=Number.POSITIVE_INFINITY),this.project=r,this.concurrent=t}return e.prototype.call=function(r,t){return t.subscribe(new Qs(r,this.project,this.concurrent))},e}(),Qs=function(e){W(r,e);function r(t,n,o){o===void 0&&(o=Number.POSITIVE_INFINITY);var i=e.call(this,t)||this;return i.project=n,i.concurrent=o,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},r.prototype._tryNext=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(i){this.destination.error(i);return}this.active++,this._innerSub(n)},r.prototype._innerSub=function(t){var n=new dr(this),o=this.destination;o.add(n);var i=yr(t,n);i!==n&&o.add(i)},r.prototype._complete=function(){this.hasCompleted=!0,this.active===0&&this.buffer.length===0&&this.destination.complete(),this.unsubscribe()},r.prototype.notifyNext=function(t){this.destination.next(t)},r.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):this.active===0&&this.hasCompleted&&this.destination.complete()},r}(vr);function Fn(e){return!io(e)&&e-parseFloat(e)+1>=0}function ea(e,r){return function(n){return n.lift(new ra(e,r))}}var ra=function(){function e(r,t){this.predicate=r,this.thisArg=t}return e.prototype.call=function(r,t){return t.subscribe(new ta(r,this.predicate,this.thisArg))},e}(),ta=function(e){W(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.predicate=n,i.thisArg=o,i.count=0,i}return r.prototype._next=function(t){var n;try{n=this.predicate.call(this.thisArg,t,this.count++)}catch(o){this.destination.error(o);return}n&&this.destination.next(t)},r}(ce);function na(e,r,t){e===void 0&&(e=0);var n=-1;return Fn(r)?n=Number(r)<1&&1||Number(r):Pt(r)&&(t=r),Pt(t)||(t=Qt),new Z(function(o){var i=Fn(e)?e:+e-t.now();return t.schedule(ia,i,{index:0,period:n,subscriber:o})})}function ia(e){var r=e.index,t=e.period,n=e.subscriber;if(n.next(r),!n.closed){if(t===-1)return n.complete();e.index=r+1,this.schedule(e,t)}}function Lt(e){return function(t){var n=new oa(e),o=t.lift(n);return n.caught=o}}var oa=function(){function e(r){this.selector=r}return e.prototype.call=function(r,t){return t.subscribe(new sa(r,this.selector,this.caught))},e}(),sa=function(e){W(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.selector=n,i.caught=o,i}return r.prototype.error=function(t){if(!this.isStopped){var n=void 0;try{n=this.selector(t,this.caught)}catch(c){e.prototype.error.call(this,c);return}this._unsubscribeAndRecycle();var o=new dr(this);this.add(o);var i=yr(n,o);i!==o&&this.add(i)}},r}(vr);function aa(e){return e instanceof Date&&!isNaN(+e)}function ca(e){return function(r){return r.lift(new ua(e))}}var ua=function(){function e(r){this.callback=r}return e.prototype.call=function(r,t){return t.subscribe(new la(r,this.callback))},e}(),la=function(e){W(r,e);function r(t,n){var o=e.call(this,t)||this;return o.add(new he(n)),o}return r}(ce);function fa(e,r){var t=!1;return arguments.length>=2&&(t=!0),function(o){return o.lift(new ha(e,r,t))}}var ha=function(){function e(r,t,n){n===void 0&&(n=!1),this.accumulator=r,this.seed=t,this.hasSeed=n}return e.prototype.call=function(r,t){return t.subscribe(new pa(r,this.accumulator,this.seed,this.hasSeed))},e}(),pa=function(e){W(r,e);function r(t,n,o,i){var c=e.call(this,t)||this;return c.accumulator=n,c._seed=o,c.hasSeed=i,c.index=0,c}return Object.defineProperty(r.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),r.prototype._next=function(t){if(!this.hasSeed)this.seed=t,this.destination.next(t);else return this._tryNext(t)},r.prototype._tryNext=function(t){var n=this.index++,o;try{o=this.accumulator(this.seed,t,n)}catch(i){this.destination.error(i)}this.seed=o,this.destination.next(o)},r}(ce);function da(e){return function(r){return r.lift(new va(e,r))}}var va=function(){function e(r,t){this.notifier=r,this.source=t}return e.prototype.call=function(r,t){return t.subscribe(new ya(r,this.notifier,this.source))},e}(),ya=function(e){W(r,e);function r(t,n,o){var i=e.call(this,t)||this;return i.notifier=n,i.source=o,i}return r.prototype.error=function(t){if(!this.isStopped){var n=this.errors,o=this.retries,i=this.retriesSubscription;if(o)this.errors=void 0,this.retriesSubscription=void 0;else{n=new Wt;try{var c=this.notifier;o=c(n)}catch(u){return e.prototype.error.call(this,u)}i=yr(o,new dr(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=o,this.retriesSubscription=i,n.next(t)}},r.prototype._unsubscribe=function(){var t=this,n=t.errors,o=t.retriesSubscription;n&&(n.unsubscribe(),this.errors=void 0),o&&(o.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},r.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},r}(vr);function Kr(e,r){return typeof r=="function"?function(t){return t.pipe(Kr(function(n,o){return Xr(e(n,o)).pipe(en(function(i,c){return r(n,i,o,c)}))}))}:function(t){return t.lift(new ga(e))}}var ga=function(){function e(r){this.project=r}return e.prototype.call=function(r,t){return t.subscribe(new Ea(r,this.project))},e}(),Ea=function(e){W(r,e);function r(t,n){var o=e.call(this,t)||this;return o.project=n,o.index=0,o}return r.prototype._next=function(t){var n,o=this.index++;try{n=this.project(t,o)}catch(i){this.destination.error(i);return}this._innerSub(n)},r.prototype._innerSub=function(t){var n=this.innerSubscription;n&&n.unsubscribe();var o=new dr(this),i=this.destination;i.add(o),this.innerSubscription=yr(t,o),this.innerSubscription!==o&&i.add(this.innerSubscription)},r.prototype._complete=function(){var t=this.innerSubscription;(!t||t.closed)&&e.prototype._complete.call(this),this.unsubscribe()},r.prototype._unsubscribe=function(){this.innerSubscription=void 0},r.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&e.prototype._complete.call(this)},r.prototype.notifyNext=function(t){this.destination.next(t)},r}(vr);function ma(e,r,t){return t===void 0&&(t=Qt),function(n){var o=aa(e),i=o?+e-t.now():Math.abs(e);return n.lift(new ba(i,o,r,t))}}var ba=function(){function e(r,t,n,o){this.waitFor=r,this.absoluteTimeout=t,this.withObservable=n,this.scheduler=o}return e.prototype.call=function(r,t){return t.subscribe(new _a(r,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},e}(),_a=function(e){W(r,e);function r(t,n,o,i,c){var u=e.call(this,t)||this;return u.absoluteTimeout=n,u.waitFor=o,u.withObservable=i,u.scheduler=c,u.scheduleTimeout(),u}return r.dispatchTimeout=function(t){var n=t.withObservable;t._unsubscribeAndRecycle(),t.add(yr(n,new dr(t)))},r.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(r.dispatchTimeout,this.waitFor,this))},r.prototype._next=function(t){this.absoluteTimeout||this.scheduleTimeout(),e.prototype._next.call(this,t)},r.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},r}(vr);function wa(e,r){return r===void 0&&(r=Qt),ma(e,Hr(new Ms),r)}var ee={},qr={};qr.byteLength=Sa;qr.toByteArray=xa;qr.fromByteArray=Na;var ye=[],ae=[],Aa=typeof Uint8Array<"u"?Uint8Array:Array,pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ke=0,Ia=pt.length;Ke<Ia;++Ke)ye[Ke]=pt[Ke],ae[pt.charCodeAt(Ke)]=Ke;ae["-".charCodeAt(0)]=62;ae["_".charCodeAt(0)]=63;function fo(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function Sa(e){var r=fo(e),t=r[0],n=r[1];return(t+n)*3/4-n}function Ta(e,r,t){return(r+t)*3/4-t}function xa(e){var r,t=fo(e),n=t[0],o=t[1],i=new Aa(Ta(e,n,o)),c=0,u=o>0?n-4:n,h;for(h=0;h<u;h+=4)r=ae[e.charCodeAt(h)]<<18|ae[e.charCodeAt(h+1)]<<12|ae[e.charCodeAt(h+2)]<<6|ae[e.charCodeAt(h+3)],i[c++]=r>>16&255,i[c++]=r>>8&255,i[c++]=r&255;return o===2&&(r=ae[e.charCodeAt(h)]<<2|ae[e.charCodeAt(h+1)]>>4,i[c++]=r&255),o===1&&(r=ae[e.charCodeAt(h)]<<10|ae[e.charCodeAt(h+1)]<<4|ae[e.charCodeAt(h+2)]>>2,i[c++]=r>>8&255,i[c++]=r&255),i}function Oa(e){return ye[e>>18&63]+ye[e>>12&63]+ye[e>>6&63]+ye[e&63]}function Ra(e,r,t){for(var n,o=[],i=r;i<t;i+=3)n=(e[i]<<16&16711680)+(e[i+1]<<8&65280)+(e[i+2]&255),o.push(Oa(n));return o.join("")}function Na(e){for(var r,t=e.length,n=t%3,o=[],i=16383,c=0,u=t-n;c<u;c+=i)o.push(Ra(e,c,c+i>u?u:c+i));return n===1?(r=e[t-1],o.push(ye[r>>2]+ye[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],o.push(ye[r>>10]+ye[r>>4&63]+ye[r<<2&63]+"=")),o.join("")}var rn={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */rn.read=function(e,r,t,n,o){var i,c,u=o*8-n-1,h=(1<<u)-1,f=h>>1,v=-7,E=t?o-1:0,b=t?-1:1,_=e[r+E];for(E+=b,i=_&(1<<-v)-1,_>>=-v,v+=u;v>0;i=i*256+e[r+E],E+=b,v-=8);for(c=i&(1<<-v)-1,i>>=-v,v+=n;v>0;c=c*256+e[r+E],E+=b,v-=8);if(i===0)i=1-f;else{if(i===h)return c?NaN:(_?-1:1)*(1/0);c=c+Math.pow(2,n),i=i-f}return(_?-1:1)*c*Math.pow(2,i-n)};rn.write=function(e,r,t,n,o,i){var c,u,h,f=i*8-o-1,v=(1<<f)-1,E=v>>1,b=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,_=n?0:i-1,N=n?1:-1,R=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(u=isNaN(r)?1:0,c=v):(c=Math.floor(Math.log(r)/Math.LN2),r*(h=Math.pow(2,-c))<1&&(c--,h*=2),c+E>=1?r+=b/h:r+=b*Math.pow(2,1-E),r*h>=2&&(c++,h/=2),c+E>=v?(u=0,c=v):c+E>=1?(u=(r*h-1)*Math.pow(2,o),c=c+E):(u=r*Math.pow(2,E-1)*Math.pow(2,o),c=0));o>=8;e[t+_]=u&255,_+=N,u/=256,o-=8);for(c=c<<o|u,f+=o;f>0;e[t+_]=c&255,_+=N,c/=256,f-=8);e[t+_-N]|=R*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=qr,t=rn,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=u,e.SlowBuffer=J,e.INSPECT_MAX_BYTES=50;const o=2147483647;e.kMaxLength=o,u.TYPED_ARRAY_SUPPORT=i(),!u.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const l=new Uint8Array(1),s={foo:function(){return 42}};return Object.setPrototypeOf(s,Uint8Array.prototype),Object.setPrototypeOf(l,s),l.foo()===42}catch{return!1}}Object.defineProperty(u.prototype,"parent",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.buffer}}),Object.defineProperty(u.prototype,"offset",{enumerable:!0,get:function(){if(!!u.isBuffer(this))return this.byteOffset}});function c(l){if(l>o)throw new RangeError('The value "'+l+'" is invalid for option "size"');const s=new Uint8Array(l);return Object.setPrototypeOf(s,u.prototype),s}function u(l,s,a){if(typeof l=="number"){if(typeof s=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return E(l)}return h(l,s,a)}u.poolSize=8192;function h(l,s,a){if(typeof l=="string")return b(l,s);if(ArrayBuffer.isView(l))return N(l);if(l==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l);if(ve(l,ArrayBuffer)||l&&ve(l.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ve(l,SharedArrayBuffer)||l&&ve(l.buffer,SharedArrayBuffer)))return R(l,s,a);if(typeof l=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=l.valueOf&&l.valueOf();if(p!=null&&p!==l)return u.from(p,s,a);const y=C(l);if(y)return y;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof l[Symbol.toPrimitive]=="function")return u.from(l[Symbol.toPrimitive]("string"),s,a);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof l)}u.from=function(l,s,a){return h(l,s,a)},Object.setPrototypeOf(u.prototype,Uint8Array.prototype),Object.setPrototypeOf(u,Uint8Array);function f(l){if(typeof l!="number")throw new TypeError('"size" argument must be of type number');if(l<0)throw new RangeError('The value "'+l+'" is invalid for option "size"')}function v(l,s,a){return f(l),l<=0?c(l):s!==void 0?typeof a=="string"?c(l).fill(s,a):c(l).fill(s):c(l)}u.alloc=function(l,s,a){return v(l,s,a)};function E(l){return f(l),c(l<0?0:k(l)|0)}u.allocUnsafe=function(l){return E(l)},u.allocUnsafeSlow=function(l){return E(l)};function b(l,s){if((typeof s!="string"||s==="")&&(s="utf8"),!u.isEncoding(s))throw new TypeError("Unknown encoding: "+s);const a=ie(l,s)|0;let p=c(a);const y=p.write(l,s);return y!==a&&(p=p.slice(0,y)),p}function _(l){const s=l.length<0?0:k(l.length)|0,a=c(s);for(let p=0;p<s;p+=1)a[p]=l[p]&255;return a}function N(l){if(ve(l,Uint8Array)){const s=new Uint8Array(l);return R(s.buffer,s.byteOffset,s.byteLength)}return _(l)}function R(l,s,a){if(s<0||l.byteLength<s)throw new RangeError('"offset" is outside of buffer bounds');if(l.byteLength<s+(a||0))throw new RangeError('"length" is outside of buffer bounds');let p;return s===void 0&&a===void 0?p=new Uint8Array(l):a===void 0?p=new Uint8Array(l,s):p=new Uint8Array(l,s,a),Object.setPrototypeOf(p,u.prototype),p}function C(l){if(u.isBuffer(l)){const s=k(l.length)|0,a=c(s);return a.length===0||l.copy(a,0,0,s),a}if(l.length!==void 0)return typeof l.length!="number"||ht(l.length)?c(0):_(l);if(l.type==="Buffer"&&Array.isArray(l.data))return _(l.data)}function k(l){if(l>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return l|0}function J(l){return+l!=l&&(l=0),u.alloc(+l)}u.isBuffer=function(s){return s!=null&&s._isBuffer===!0&&s!==u.prototype},u.compare=function(s,a){if(ve(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),ve(a,Uint8Array)&&(a=u.from(a,a.offset,a.byteLength)),!u.isBuffer(s)||!u.isBuffer(a))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(s===a)return 0;let p=s.length,y=a.length;for(let g=0,m=Math.min(p,y);g<m;++g)if(s[g]!==a[g]){p=s[g],y=a[g];break}return p<y?-1:y<p?1:0},u.isEncoding=function(s){switch(String(s).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},u.concat=function(s,a){if(!Array.isArray(s))throw new TypeError('"list" argument must be an Array of Buffers');if(s.length===0)return u.alloc(0);let p;if(a===void 0)for(a=0,p=0;p<s.length;++p)a+=s[p].length;const y=u.allocUnsafe(a);let g=0;for(p=0;p<s.length;++p){let m=s[p];if(ve(m,Uint8Array))g+m.length>y.length?(u.isBuffer(m)||(m=u.from(m)),m.copy(y,g)):Uint8Array.prototype.set.call(y,m,g);else if(u.isBuffer(m))m.copy(y,g);else throw new TypeError('"list" argument must be an Array of Buffers');g+=m.length}return y};function ie(l,s){if(u.isBuffer(l))return l.length;if(ArrayBuffer.isView(l)||ve(l,ArrayBuffer))return l.byteLength;if(typeof l!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof l);const a=l.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&a===0)return 0;let y=!1;for(;;)switch(s){case"ascii":case"latin1":case"binary":return a;case"utf8":case"utf-8":return ft(l).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return a*2;case"hex":return a>>>1;case"base64":return Rn(l).length;default:if(y)return p?-1:ft(l).length;s=(""+s).toLowerCase(),y=!0}}u.byteLength=ie;function oe(l,s,a){let p=!1;if((s===void 0||s<0)&&(s=0),s>this.length||((a===void 0||a>this.length)&&(a=this.length),a<=0)||(a>>>=0,s>>>=0,a<=s))return"";for(l||(l="utf8");;)switch(l){case"hex":return P(this,s,a);case"utf8":case"utf-8":return S(this,s,a);case"ascii":return $(this,s,a);case"latin1":case"binary":return M(this,s,a);case"base64":return O(this,s,a);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return V(this,s,a);default:if(p)throw new TypeError("Unknown encoding: "+l);l=(l+"").toLowerCase(),p=!0}}u.prototype._isBuffer=!0;function z(l,s,a){const p=l[s];l[s]=l[a],l[a]=p}u.prototype.swap16=function(){const s=this.length;if(s%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let a=0;a<s;a+=2)z(this,a,a+1);return this},u.prototype.swap32=function(){const s=this.length;if(s%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let a=0;a<s;a+=4)z(this,a,a+3),z(this,a+1,a+2);return this},u.prototype.swap64=function(){const s=this.length;if(s%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let a=0;a<s;a+=8)z(this,a,a+7),z(this,a+1,a+6),z(this,a+2,a+5),z(this,a+3,a+4);return this},u.prototype.toString=function(){const s=this.length;return s===0?"":arguments.length===0?S(this,0,s):oe.apply(this,arguments)},u.prototype.toLocaleString=u.prototype.toString,u.prototype.equals=function(s){if(!u.isBuffer(s))throw new TypeError("Argument must be a Buffer");return this===s?!0:u.compare(this,s)===0},u.prototype.inspect=function(){let s="";const a=e.INSPECT_MAX_BYTES;return s=this.toString("hex",0,a).replace(/(.{2})/g,"$1 ").trim(),this.length>a&&(s+=" ... "),"<Buffer "+s+">"},n&&(u.prototype[n]=u.prototype.inspect),u.prototype.compare=function(s,a,p,y,g){if(ve(s,Uint8Array)&&(s=u.from(s,s.offset,s.byteLength)),!u.isBuffer(s))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof s);if(a===void 0&&(a=0),p===void 0&&(p=s?s.length:0),y===void 0&&(y=0),g===void 0&&(g=this.length),a<0||p>s.length||y<0||g>this.length)throw new RangeError("out of range index");if(y>=g&&a>=p)return 0;if(y>=g)return-1;if(a>=p)return 1;if(a>>>=0,p>>>=0,y>>>=0,g>>>=0,this===s)return 0;let m=g-y,L=p-a;const q=Math.min(m,L),K=this.slice(y,g),Y=s.slice(a,p);for(let j=0;j<q;++j)if(K[j]!==Y[j]){m=K[j],L=Y[j];break}return m<L?-1:L<m?1:0};function Ee(l,s,a,p,y){if(l.length===0)return-1;if(typeof a=="string"?(p=a,a=0):a>2147483647?a=2147483647:a<-2147483648&&(a=-2147483648),a=+a,ht(a)&&(a=y?0:l.length-1),a<0&&(a=l.length+a),a>=l.length){if(y)return-1;a=l.length-1}else if(a<0)if(y)a=0;else return-1;if(typeof s=="string"&&(s=u.from(s,p)),u.isBuffer(s))return s.length===0?-1:me(l,s,a,p,y);if(typeof s=="number")return s=s&255,typeof Uint8Array.prototype.indexOf=="function"?y?Uint8Array.prototype.indexOf.call(l,s,a):Uint8Array.prototype.lastIndexOf.call(l,s,a):me(l,[s],a,p,y);throw new TypeError("val must be string, number or Buffer")}function me(l,s,a,p,y){let g=1,m=l.length,L=s.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(l.length<2||s.length<2)return-1;g=2,m/=2,L/=2,a/=2}function q(Y,j){return g===1?Y[j]:Y.readUInt16BE(j*g)}let K;if(y){let Y=-1;for(K=a;K<m;K++)if(q(l,K)===q(s,Y===-1?0:K-Y)){if(Y===-1&&(Y=K),K-Y+1===L)return Y*g}else Y!==-1&&(K-=K-Y),Y=-1}else for(a+L>m&&(a=m-L),K=a;K>=0;K--){let Y=!0;for(let j=0;j<L;j++)if(q(l,K+j)!==q(s,j)){Y=!1;break}if(Y)return K}return-1}u.prototype.includes=function(s,a,p){return this.indexOf(s,a,p)!==-1},u.prototype.indexOf=function(s,a,p){return Ee(this,s,a,p,!0)},u.prototype.lastIndexOf=function(s,a,p){return Ee(this,s,a,p,!1)};function Be(l,s,a,p){a=Number(a)||0;const y=l.length-a;p?(p=Number(p),p>y&&(p=y)):p=y;const g=s.length;p>g/2&&(p=g/2);let m;for(m=0;m<p;++m){const L=parseInt(s.substr(m*2,2),16);if(ht(L))return m;l[a+m]=L}return m}function be(l,s,a,p){return mr(ft(s,l.length-a),l,a,p)}function se(l,s,a,p){return mr(ys(s),l,a,p)}function A(l,s,a,p){return mr(Rn(s),l,a,p)}function w(l,s,a,p){return mr(gs(s,l.length-a),l,a,p)}u.prototype.write=function(s,a,p,y){if(a===void 0)y="utf8",p=this.length,a=0;else if(p===void 0&&typeof a=="string")y=a,p=this.length,a=0;else if(isFinite(a))a=a>>>0,isFinite(p)?(p=p>>>0,y===void 0&&(y="utf8")):(y=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const g=this.length-a;if((p===void 0||p>g)&&(p=g),s.length>0&&(p<0||a<0)||a>this.length)throw new RangeError("Attempt to write outside buffer bounds");y||(y="utf8");let m=!1;for(;;)switch(y){case"hex":return Be(this,s,a,p);case"utf8":case"utf-8":return be(this,s,a,p);case"ascii":case"latin1":case"binary":return se(this,s,a,p);case"base64":return A(this,s,a,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return w(this,s,a,p);default:if(m)throw new TypeError("Unknown encoding: "+y);y=(""+y).toLowerCase(),m=!0}},u.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function O(l,s,a){return s===0&&a===l.length?r.fromByteArray(l):r.fromByteArray(l.slice(s,a))}function S(l,s,a){a=Math.min(l.length,a);const p=[];let y=s;for(;y<a;){const g=l[y];let m=null,L=g>239?4:g>223?3:g>191?2:1;if(y+L<=a){let q,K,Y,j;switch(L){case 1:g<128&&(m=g);break;case 2:q=l[y+1],(q&192)===128&&(j=(g&31)<<6|q&63,j>127&&(m=j));break;case 3:q=l[y+1],K=l[y+2],(q&192)===128&&(K&192)===128&&(j=(g&15)<<12|(q&63)<<6|K&63,j>2047&&(j<55296||j>57343)&&(m=j));break;case 4:q=l[y+1],K=l[y+2],Y=l[y+3],(q&192)===128&&(K&192)===128&&(Y&192)===128&&(j=(g&15)<<18|(q&63)<<12|(K&63)<<6|Y&63,j>65535&&j<1114112&&(m=j))}}m===null?(m=65533,L=1):m>65535&&(m-=65536,p.push(m>>>10&1023|55296),m=56320|m&1023),p.push(m),y+=L}return T(p)}const x=4096;function T(l){const s=l.length;if(s<=x)return String.fromCharCode.apply(String,l);let a="",p=0;for(;p<s;)a+=String.fromCharCode.apply(String,l.slice(p,p+=x));return a}function $(l,s,a){let p="";a=Math.min(l.length,a);for(let y=s;y<a;++y)p+=String.fromCharCode(l[y]&127);return p}function M(l,s,a){let p="";a=Math.min(l.length,a);for(let y=s;y<a;++y)p+=String.fromCharCode(l[y]);return p}function P(l,s,a){const p=l.length;(!s||s<0)&&(s=0),(!a||a<0||a>p)&&(a=p);let y="";for(let g=s;g<a;++g)y+=Es[l[g]];return y}function V(l,s,a){const p=l.slice(s,a);let y="";for(let g=0;g<p.length-1;g+=2)y+=String.fromCharCode(p[g]+p[g+1]*256);return y}u.prototype.slice=function(s,a){const p=this.length;s=~~s,a=a===void 0?p:~~a,s<0?(s+=p,s<0&&(s=0)):s>p&&(s=p),a<0?(a+=p,a<0&&(a=0)):a>p&&(a=p),a<s&&(a=s);const y=this.subarray(s,a);return Object.setPrototypeOf(y,u.prototype),y};function F(l,s,a){if(l%1!==0||l<0)throw new RangeError("offset is not uint");if(l+s>a)throw new RangeError("Trying to access beyond buffer length")}u.prototype.readUintLE=u.prototype.readUIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||F(s,a,this.length);let y=this[s],g=1,m=0;for(;++m<a&&(g*=256);)y+=this[s+m]*g;return y},u.prototype.readUintBE=u.prototype.readUIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||F(s,a,this.length);let y=this[s+--a],g=1;for(;a>0&&(g*=256);)y+=this[s+--a]*g;return y},u.prototype.readUint8=u.prototype.readUInt8=function(s,a){return s=s>>>0,a||F(s,1,this.length),this[s]},u.prototype.readUint16LE=u.prototype.readUInt16LE=function(s,a){return s=s>>>0,a||F(s,2,this.length),this[s]|this[s+1]<<8},u.prototype.readUint16BE=u.prototype.readUInt16BE=function(s,a){return s=s>>>0,a||F(s,2,this.length),this[s]<<8|this[s+1]},u.prototype.readUint32LE=u.prototype.readUInt32LE=function(s,a){return s=s>>>0,a||F(s,4,this.length),(this[s]|this[s+1]<<8|this[s+2]<<16)+this[s+3]*16777216},u.prototype.readUint32BE=u.prototype.readUInt32BE=function(s,a){return s=s>>>0,a||F(s,4,this.length),this[s]*16777216+(this[s+1]<<16|this[s+2]<<8|this[s+3])},u.prototype.readBigUInt64LE=Oe(function(s){s=s>>>0,Xe(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const y=a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24,g=this[++s]+this[++s]*2**8+this[++s]*2**16+p*2**24;return BigInt(y)+(BigInt(g)<<BigInt(32))}),u.prototype.readBigUInt64BE=Oe(function(s){s=s>>>0,Xe(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const y=a*2**24+this[++s]*2**16+this[++s]*2**8+this[++s],g=this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p;return(BigInt(y)<<BigInt(32))+BigInt(g)}),u.prototype.readIntLE=function(s,a,p){s=s>>>0,a=a>>>0,p||F(s,a,this.length);let y=this[s],g=1,m=0;for(;++m<a&&(g*=256);)y+=this[s+m]*g;return g*=128,y>=g&&(y-=Math.pow(2,8*a)),y},u.prototype.readIntBE=function(s,a,p){s=s>>>0,a=a>>>0,p||F(s,a,this.length);let y=a,g=1,m=this[s+--y];for(;y>0&&(g*=256);)m+=this[s+--y]*g;return g*=128,m>=g&&(m-=Math.pow(2,8*a)),m},u.prototype.readInt8=function(s,a){return s=s>>>0,a||F(s,1,this.length),this[s]&128?(255-this[s]+1)*-1:this[s]},u.prototype.readInt16LE=function(s,a){s=s>>>0,a||F(s,2,this.length);const p=this[s]|this[s+1]<<8;return p&32768?p|4294901760:p},u.prototype.readInt16BE=function(s,a){s=s>>>0,a||F(s,2,this.length);const p=this[s+1]|this[s]<<8;return p&32768?p|4294901760:p},u.prototype.readInt32LE=function(s,a){return s=s>>>0,a||F(s,4,this.length),this[s]|this[s+1]<<8|this[s+2]<<16|this[s+3]<<24},u.prototype.readInt32BE=function(s,a){return s=s>>>0,a||F(s,4,this.length),this[s]<<24|this[s+1]<<16|this[s+2]<<8|this[s+3]},u.prototype.readBigInt64LE=Oe(function(s){s=s>>>0,Xe(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const y=this[s+4]+this[s+5]*2**8+this[s+6]*2**16+(p<<24);return(BigInt(y)<<BigInt(32))+BigInt(a+this[++s]*2**8+this[++s]*2**16+this[++s]*2**24)}),u.prototype.readBigInt64BE=Oe(function(s){s=s>>>0,Xe(s,"offset");const a=this[s],p=this[s+7];(a===void 0||p===void 0)&&or(s,this.length-8);const y=(a<<24)+this[++s]*2**16+this[++s]*2**8+this[++s];return(BigInt(y)<<BigInt(32))+BigInt(this[++s]*2**24+this[++s]*2**16+this[++s]*2**8+p)}),u.prototype.readFloatLE=function(s,a){return s=s>>>0,a||F(s,4,this.length),t.read(this,s,!0,23,4)},u.prototype.readFloatBE=function(s,a){return s=s>>>0,a||F(s,4,this.length),t.read(this,s,!1,23,4)},u.prototype.readDoubleLE=function(s,a){return s=s>>>0,a||F(s,8,this.length),t.read(this,s,!0,52,8)},u.prototype.readDoubleBE=function(s,a){return s=s>>>0,a||F(s,8,this.length),t.read(this,s,!1,52,8)};function D(l,s,a,p,y,g){if(!u.isBuffer(l))throw new TypeError('"buffer" argument must be a Buffer instance');if(s>y||s<g)throw new RangeError('"value" argument is out of bounds');if(a+p>l.length)throw new RangeError("Index out of range")}u.prototype.writeUintLE=u.prototype.writeUIntLE=function(s,a,p,y){if(s=+s,a=a>>>0,p=p>>>0,!y){const L=Math.pow(2,8*p)-1;D(this,s,a,p,L,0)}let g=1,m=0;for(this[a]=s&255;++m<p&&(g*=256);)this[a+m]=s/g&255;return a+p},u.prototype.writeUintBE=u.prototype.writeUIntBE=function(s,a,p,y){if(s=+s,a=a>>>0,p=p>>>0,!y){const L=Math.pow(2,8*p)-1;D(this,s,a,p,L,0)}let g=p-1,m=1;for(this[a+g]=s&255;--g>=0&&(m*=256);)this[a+g]=s/m&255;return a+p},u.prototype.writeUint8=u.prototype.writeUInt8=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,1,255,0),this[a]=s&255,a+1},u.prototype.writeUint16LE=u.prototype.writeUInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,65535,0),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeUint16BE=u.prototype.writeUInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,65535,0),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeUint32LE=u.prototype.writeUInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,4294967295,0),this[a+3]=s>>>24,this[a+2]=s>>>16,this[a+1]=s>>>8,this[a]=s&255,a+4},u.prototype.writeUint32BE=u.prototype.writeUInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,4294967295,0),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4};function xe(l,s,a,p,y){On(s,p,y,l,a,7);let g=Number(s&BigInt(4294967295));l[a++]=g,g=g>>8,l[a++]=g,g=g>>8,l[a++]=g,g=g>>8,l[a++]=g;let m=Number(s>>BigInt(32)&BigInt(4294967295));return l[a++]=m,m=m>>8,l[a++]=m,m=m>>8,l[a++]=m,m=m>>8,l[a++]=m,a}function ut(l,s,a,p,y){On(s,p,y,l,a,7);let g=Number(s&BigInt(4294967295));l[a+7]=g,g=g>>8,l[a+6]=g,g=g>>8,l[a+5]=g,g=g>>8,l[a+4]=g;let m=Number(s>>BigInt(32)&BigInt(4294967295));return l[a+3]=m,m=m>>8,l[a+2]=m,m=m>>8,l[a+1]=m,m=m>>8,l[a]=m,a+8}u.prototype.writeBigUInt64LE=Oe(function(s,a=0){return xe(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeBigUInt64BE=Oe(function(s,a=0){return ut(this,s,a,BigInt(0),BigInt("0xffffffffffffffff"))}),u.prototype.writeIntLE=function(s,a,p,y){if(s=+s,a=a>>>0,!y){const q=Math.pow(2,8*p-1);D(this,s,a,p,q-1,-q)}let g=0,m=1,L=0;for(this[a]=s&255;++g<p&&(m*=256);)s<0&&L===0&&this[a+g-1]!==0&&(L=1),this[a+g]=(s/m>>0)-L&255;return a+p},u.prototype.writeIntBE=function(s,a,p,y){if(s=+s,a=a>>>0,!y){const q=Math.pow(2,8*p-1);D(this,s,a,p,q-1,-q)}let g=p-1,m=1,L=0;for(this[a+g]=s&255;--g>=0&&(m*=256);)s<0&&L===0&&this[a+g+1]!==0&&(L=1),this[a+g]=(s/m>>0)-L&255;return a+p},u.prototype.writeInt8=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,1,127,-128),s<0&&(s=255+s+1),this[a]=s&255,a+1},u.prototype.writeInt16LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,32767,-32768),this[a]=s&255,this[a+1]=s>>>8,a+2},u.prototype.writeInt16BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,2,32767,-32768),this[a]=s>>>8,this[a+1]=s&255,a+2},u.prototype.writeInt32LE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,2147483647,-2147483648),this[a]=s&255,this[a+1]=s>>>8,this[a+2]=s>>>16,this[a+3]=s>>>24,a+4},u.prototype.writeInt32BE=function(s,a,p){return s=+s,a=a>>>0,p||D(this,s,a,4,2147483647,-2147483648),s<0&&(s=4294967295+s+1),this[a]=s>>>24,this[a+1]=s>>>16,this[a+2]=s>>>8,this[a+3]=s&255,a+4},u.prototype.writeBigInt64LE=Oe(function(s,a=0){return xe(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),u.prototype.writeBigInt64BE=Oe(function(s,a=0){return ut(this,s,a,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function In(l,s,a,p,y,g){if(a+p>l.length)throw new RangeError("Index out of range");if(a<0)throw new RangeError("Index out of range")}function Sn(l,s,a,p,y){return s=+s,a=a>>>0,y||In(l,s,a,4),t.write(l,s,a,p,23,4),a+4}u.prototype.writeFloatLE=function(s,a,p){return Sn(this,s,a,!0,p)},u.prototype.writeFloatBE=function(s,a,p){return Sn(this,s,a,!1,p)};function Tn(l,s,a,p,y){return s=+s,a=a>>>0,y||In(l,s,a,8),t.write(l,s,a,p,52,8),a+8}u.prototype.writeDoubleLE=function(s,a,p){return Tn(this,s,a,!0,p)},u.prototype.writeDoubleBE=function(s,a,p){return Tn(this,s,a,!1,p)},u.prototype.copy=function(s,a,p,y){if(!u.isBuffer(s))throw new TypeError("argument should be a Buffer");if(p||(p=0),!y&&y!==0&&(y=this.length),a>=s.length&&(a=s.length),a||(a=0),y>0&&y<p&&(y=p),y===p||s.length===0||this.length===0)return 0;if(a<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(y<0)throw new RangeError("sourceEnd out of bounds");y>this.length&&(y=this.length),s.length-a<y-p&&(y=s.length-a+p);const g=y-p;return this===s&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(a,p,y):Uint8Array.prototype.set.call(s,this.subarray(p,y),a),g},u.prototype.fill=function(s,a,p,y){if(typeof s=="string"){if(typeof a=="string"?(y=a,a=0,p=this.length):typeof p=="string"&&(y=p,p=this.length),y!==void 0&&typeof y!="string")throw new TypeError("encoding must be a string");if(typeof y=="string"&&!u.isEncoding(y))throw new TypeError("Unknown encoding: "+y);if(s.length===1){const m=s.charCodeAt(0);(y==="utf8"&&m<128||y==="latin1")&&(s=m)}}else typeof s=="number"?s=s&255:typeof s=="boolean"&&(s=Number(s));if(a<0||this.length<a||this.length<p)throw new RangeError("Out of range index");if(p<=a)return this;a=a>>>0,p=p===void 0?this.length:p>>>0,s||(s=0);let g;if(typeof s=="number")for(g=a;g<p;++g)this[g]=s;else{const m=u.isBuffer(s)?s:u.from(s,y),L=m.length;if(L===0)throw new TypeError('The value "'+s+'" is invalid for argument "value"');for(g=0;g<p-a;++g)this[g+a]=m[g%L]}return this};const Ve={};function lt(l,s,a){Ve[l]=class extends a{constructor(){super(),Object.defineProperty(this,"message",{value:s.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${l}]`,this.stack,delete this.name}get code(){return l}set code(y){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:y,writable:!0})}toString(){return`${this.name} [${l}]: ${this.message}`}}}lt("ERR_BUFFER_OUT_OF_BOUNDS",function(l){return l?`${l} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),lt("ERR_INVALID_ARG_TYPE",function(l,s){return`The "${l}" argument must be of type number. Received type ${typeof s}`},TypeError),lt("ERR_OUT_OF_RANGE",function(l,s,a){let p=`The value of "${l}" is out of range.`,y=a;return Number.isInteger(a)&&Math.abs(a)>2**32?y=xn(String(a)):typeof a=="bigint"&&(y=String(a),(a>BigInt(2)**BigInt(32)||a<-(BigInt(2)**BigInt(32)))&&(y=xn(y)),y+="n"),p+=` It must be ${s}. Received ${y}`,p},RangeError);function xn(l){let s="",a=l.length;const p=l[0]==="-"?1:0;for(;a>=p+4;a-=3)s=`_${l.slice(a-3,a)}${s}`;return`${l.slice(0,a)}${s}`}function ps(l,s,a){Xe(s,"offset"),(l[s]===void 0||l[s+a]===void 0)&&or(s,l.length-(a+1))}function On(l,s,a,p,y,g){if(l>a||l<s){const m=typeof s=="bigint"?"n":"";let L;throw g>3?s===0||s===BigInt(0)?L=`>= 0${m} and < 2${m} ** ${(g+1)*8}${m}`:L=`>= -(2${m} ** ${(g+1)*8-1}${m}) and < 2 ** ${(g+1)*8-1}${m}`:L=`>= ${s}${m} and <= ${a}${m}`,new Ve.ERR_OUT_OF_RANGE("value",L,l)}ps(p,y,g)}function Xe(l,s){if(typeof l!="number")throw new Ve.ERR_INVALID_ARG_TYPE(s,"number",l)}function or(l,s,a){throw Math.floor(l)!==l?(Xe(l,a),new Ve.ERR_OUT_OF_RANGE(a||"offset","an integer",l)):s<0?new Ve.ERR_BUFFER_OUT_OF_BOUNDS:new Ve.ERR_OUT_OF_RANGE(a||"offset",`>= ${a?1:0} and <= ${s}`,l)}const ds=/[^+/0-9A-Za-z-_]/g;function vs(l){if(l=l.split("=")[0],l=l.trim().replace(ds,""),l.length<2)return"";for(;l.length%4!==0;)l=l+"=";return l}function ft(l,s){s=s||1/0;let a;const p=l.length;let y=null;const g=[];for(let m=0;m<p;++m){if(a=l.charCodeAt(m),a>55295&&a<57344){if(!y){if(a>56319){(s-=3)>-1&&g.push(239,191,189);continue}else if(m+1===p){(s-=3)>-1&&g.push(239,191,189);continue}y=a;continue}if(a<56320){(s-=3)>-1&&g.push(239,191,189),y=a;continue}a=(y-55296<<10|a-56320)+65536}else y&&(s-=3)>-1&&g.push(239,191,189);if(y=null,a<128){if((s-=1)<0)break;g.push(a)}else if(a<2048){if((s-=2)<0)break;g.push(a>>6|192,a&63|128)}else if(a<65536){if((s-=3)<0)break;g.push(a>>12|224,a>>6&63|128,a&63|128)}else if(a<1114112){if((s-=4)<0)break;g.push(a>>18|240,a>>12&63|128,a>>6&63|128,a&63|128)}else throw new Error("Invalid code point")}return g}function ys(l){const s=[];for(let a=0;a<l.length;++a)s.push(l.charCodeAt(a)&255);return s}function gs(l,s){let a,p,y;const g=[];for(let m=0;m<l.length&&!((s-=2)<0);++m)a=l.charCodeAt(m),p=a>>8,y=a%256,g.push(y),g.push(p);return g}function Rn(l){return r.toByteArray(vs(l))}function mr(l,s,a,p){let y;for(y=0;y<p&&!(y+a>=s.length||y>=l.length);++y)s[y+a]=l[y];return y}function ve(l,s){return l instanceof s||l!=null&&l.constructor!=null&&l.constructor.name!=null&&l.constructor.name===s.name}function ht(l){return l!==l}const Es=function(){const l="0123456789abcdef",s=new Array(256);for(let a=0;a<16;++a){const p=a*16;for(let y=0;y<16;++y)s[p+y]=l[a]+l[y]}return s}();function Oe(l){return typeof BigInt>"u"?ms:l}function ms(){throw new Error("BigInt not supported")}})(ee);var $a=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(v){try{f(n.next(v))}catch(E){c(E)}}function h(v){try{f(n.throw(v))}catch(E){c(E)}}function f(v){v.done?i(v.value):o(v.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Pa=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(v){f=[6,v],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}};const La=function(e,r){return $a(void 0,void 0,void 0,function(){return Pa(this,function(t){switch(t.label){case 0:return[4,e.send(224,216,0,0,ee.Buffer.from(r,"ascii"))];case 1:return t.sent(),[2]}})})};var Ca=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();globalThis&&globalThis.__values;var d=function(e){var r=function(t){Ca(n,t);function n(o,i,c){var u=t.call(this,o||e,c)||this;if(Object.setPrototypeOf(u,n.prototype),u.name=e,i)for(var h in i)u[h]=i[h];if(c&&Da(c)&&"cause"in c&&!("cause"in u)){var f=c.cause;u.cause=f,"stack"in f&&(u.stack=u.stack+`
CAUSE: `+f.stack)}return u}return n}(Error);return r};function Da(e){return typeof e=="object"}var ho=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}();d("AccountNameRequired");d("AccountNotSupported");d("AmountRequired");var Ba=d("BluetoothRequired");d("BtcUnmatchedApp");var Fa=d("CantOpenDevice");d("CashAddrNotSupported");d("CurrencyNotSupported");d("DeviceAppVerifyNotSupported");d("DeviceGenuineSocketEarlyClose");d("DeviceNotGenuine");d("DeviceOnDashboardExpected");d("DeviceOnDashboardUnexpected");d("DeviceInOSUExpected");var Ua=d("DeviceHalted");d("DeviceNameInvalid");d("DeviceSocketFail");d("DeviceSocketNoBulkStatus");var Yr=d("LockedDeviceError"),Ma=d("DisconnectedDevice"),Ga=d("DisconnectedDeviceDuringOperation");d("DeviceExtractOnboardingStateError");d("DeviceOnboardingStatePollingError");d("EnpointConfig");d("EthAppPleaseEnableContractData");d("FeeEstimationFailed");d("FirmwareNotRecognized");d("HardResetFail");d("InvalidXRPTag");d("InvalidAddress");d("InvalidAddressBecauseDestinationIsAlsoSource");d("LatestMCUInstalledError");d("UnknownMCU");d("LedgerAPIError");d("LedgerAPIErrorWithMessage");d("LedgerAPINotAvailable");d("ManagerAppAlreadyInstalled");d("ManagerAppRelyOnBTC");d("ManagerAppDepInstallRequired");d("ManagerAppDepUninstallRequired");d("ManagerDeviceLocked");d("ManagerFirmwareNotEnoughSpace");d("ManagerNotEnoughSpace");d("ManagerUninstallBTCDep");d("NetworkDown");d("NoAddressesFound");d("NotEnoughBalance");d("NotEnoughBalanceToDelegate");d("NotEnoughBalanceInParentAccount");d("NotEnoughSpendableBalance");d("NotEnoughBalanceBecauseDestinationNotCreated");d("NoAccessToCamera");d("NotEnoughGas");d("NotSupportedLegacyAddress");d("GasLessThanEstimate");d("PriorityFeeTooLow");d("PriorityFeeTooHigh");d("PriorityFeeHigherThanMaxFee");d("MaxFeeTooLow");d("PasswordsDontMatch");d("PasswordIncorrect");d("RecommendSubAccountsToEmpty");d("RecommendUndelegation");d("TimeoutTagged");d("UnexpectedBootloader");d("MCUNotGenuineToDashboard");d("RecipientRequired");d("UnavailableTezosOriginatedAccountReceive");d("UnavailableTezosOriginatedAccountSend");d("UpdateFetchFileFail");d("UpdateIncorrectHash");d("UpdateIncorrectSig");d("UpdateYourApp");d("UserRefusedDeviceNameChange");d("UserRefusedAddress");d("UserRefusedFirmwareUpdate");d("UserRefusedAllowManager");d("UserRefusedOnDevice");var Un=d("TransportOpenUserCancelled"),ja=d("TransportInterfaceNotAvailable"),ka=d("TransportRaceCondition"),Ha=d("TransportWebUSBGestureRequired");d("DeviceShouldStayInApp");d("WebsocketConnectionError");d("WebsocketConnectionFailed");d("WrongDeviceForAccount");d("WrongAppForCurrency");d("ETHAddressNonEIP");d("CantScanQRCode");d("FeeNotLoaded");d("FeeRequired");d("FeeTooHigh");d("PendingOperation");d("SyncError");d("PairingFailed");d("GenuineCheckFailed");d("LedgerAPI4xx");d("LedgerAPI5xx");var Va=d("FirmwareOrAppUpdateRequired");d("OpReturnSizeLimit");d("DustLimit");d("LanguageNotFound");d("NoDBPathGiven");d("DBWrongPassword");d("DBNotReset");var Mn;(function(e){e[e.Unknown=0]="Unknown",e[e.BleLocationServicesDisabled=1]="BleLocationServicesDisabled",e[e.BleBluetoothUnauthorized=2]="BleBluetoothUnauthorized",e[e.BleScanStartFailed=3]="BleScanStartFailed"})(Mn||(Mn={}));(function(e){ho(r,e);function r(t,n){var o=e.call(this,n)||this;return o.name="HwTransportError",o.type=t,Object.setPrototypeOf(o,r.prototype),o}return r})(Error);var Pe=function(e){ho(r,e);function r(t,n){var o=this,i="TransportError";return o=e.call(this,t||i)||this,o.name=i,o.message=t,o.stack=new Error().stack,o.id=n,o}return r}(Error),lr={ACCESS_CONDITION_NOT_FULFILLED:38916,ALGORITHM_NOT_SUPPORTED:38020,CLA_NOT_SUPPORTED:28160,CODE_BLOCKED:38976,CODE_NOT_INITIALIZED:38914,COMMAND_INCOMPATIBLE_FILE_STRUCTURE:27009,CONDITIONS_OF_USE_NOT_SATISFIED:27013,CONTRADICTION_INVALIDATION:38928,CONTRADICTION_SECRET_CODE_STATUS:38920,CUSTOM_IMAGE_BOOTLOADER:26159,CUSTOM_IMAGE_EMPTY:26158,FILE_ALREADY_EXISTS:27273,FILE_NOT_FOUND:37892,GP_AUTH_FAILED:25344,HALTED:28586,INCONSISTENT_FILE:37896,INCORRECT_DATA:27264,INCORRECT_LENGTH:26368,INCORRECT_P1_P2:27392,INS_NOT_SUPPORTED:27904,DEVICE_NOT_ONBOARDED:27911,INVALID_KCV:38021,INVALID_OFFSET:37890,LICENSING:28482,LOCKED_DEVICE:21781,MAX_VALUE_REACHED:38992,MEMORY_PROBLEM:37440,MISSING_CRITICAL_PARAMETER:26624,NO_EF_SELECTED:37888,NOT_ENOUGH_MEMORY_SPACE:27268,OK:36864,PIN_REMAINING_ATTEMPTS:25536,REFERENCED_DATA_NOT_FOUND:27272,SECURITY_STATUS_NOT_SATISFIED:27010,TECHNICAL_PROBLEM:28416,UNKNOWN_APDU:27906,USER_REFUSED_ON_DEVICE:21761};function Xa(e){switch(e){case 26368:return"Incorrect length";case 26624:return"Missing critical parameter";case 27010:return"Security not satisfied (dongle locked or have invalid access rights)";case 27013:return"Condition of use not satisfied (denied by the user?)";case 27264:return"Invalid data received";case 27392:return"Invalid parameter received";case 21781:return"Locked device"}if(28416<=e&&e<=28671)return"Internal error, please report"}function Br(e){var r=Object.keys(lr).find(function(i){return lr[i]===e})||"UNKNOWN_ERROR",t=Xa(e)||r,n=e.toString(16),o="Ledger device: ".concat(t," (0x").concat(n,")");if(e===lr.LOCKED_DEVICE)throw new Yr(o);this.name="TransportStatusError",this.message=o,this.stack=new Error().stack,this.statusCode=e,this.statusText=r}Br.prototype=new Error;var Ka=0,Ne=[],$e=function(e,r,t){var n={type:e,id:String(++Ka),date:new Date};r&&(n.message=r),t&&(n.data=t),Ya(n)},qa=function(e){return Ne.push(e),function(){var r=Ne.indexOf(e);r!==-1&&(Ne[r]=Ne[Ne.length-1],Ne.pop())}};function Ya(e){for(var r=0;r<Ne.length;r++)try{Ne[r](e)}catch(t){console.error(t)}}typeof window<"u"&&(window.__ledgerLogsListen=qa);var za=typeof br=="object"&&br&&br.Object===Object&&br,po=za,Wa=po,Ja=typeof self=="object"&&self&&self.Object===Object&&self,Za=Wa||Ja||Function("return this")(),Te=Za,Qa=Te,ec=Qa.Symbol,zr=ec,Gn=zr,vo=Object.prototype,rc=vo.hasOwnProperty,tc=vo.toString,ar=Gn?Gn.toStringTag:void 0;function nc(e){var r=rc.call(e,ar),t=e[ar];try{e[ar]=void 0;var n=!0}catch{}var o=tc.call(e);return n&&(r?e[ar]=t:delete e[ar]),o}var ic=nc,oc=Object.prototype,sc=oc.toString;function ac(e){return sc.call(e)}var cc=ac,jn=zr,uc=ic,lc=cc,fc="[object Null]",hc="[object Undefined]",kn=jn?jn.toStringTag:void 0;function pc(e){return e==null?e===void 0?hc:fc:kn&&kn in Object(e)?uc(e):lc(e)}var gr=pc;function dc(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}var tn=dc,vc=gr,yc=tn,gc="[object AsyncFunction]",Ec="[object Function]",mc="[object GeneratorFunction]",bc="[object Proxy]";function _c(e){if(!yc(e))return!1;var r=vc(e);return r==Ec||r==mc||r==gc||r==bc}var yo=_c,wc=Te,Ac=wc["__core-js_shared__"],Ic=Ac,dt=Ic,Hn=function(){var e=/[^.]+$/.exec(dt&&dt.keys&&dt.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function Sc(e){return!!Hn&&Hn in e}var Tc=Sc,xc=Function.prototype,Oc=xc.toString;function Rc(e){if(e!=null){try{return Oc.call(e)}catch{}try{return e+""}catch{}}return""}var go=Rc,Nc=yo,$c=Tc,Pc=tn,Lc=go,Cc=/[\\^$.*+?()[\]{}|]/g,Dc=/^\[object .+?Constructor\]$/,Bc=Function.prototype,Fc=Object.prototype,Uc=Bc.toString,Mc=Fc.hasOwnProperty,Gc=RegExp("^"+Uc.call(Mc).replace(Cc,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function jc(e){if(!Pc(e)||$c(e))return!1;var r=Nc(e)?Gc:Dc;return r.test(Lc(e))}var kc=jc;function Hc(e,r){return e==null?void 0:e[r]}var Vc=Hc,Xc=kc,Kc=Vc;function qc(e,r){var t=Kc(e,r);return Xc(t)?t:void 0}var He=qc,Yc=He,zc=function(){try{var e=Yc(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Wc=zc,Vn=Wc;function Jc(e,r,t){r=="__proto__"&&Vn?Vn(e,r,{configurable:!0,enumerable:!0,value:t,writable:!0}):e[r]=t}var Zc=Jc;function Qc(e){return function(r,t,n){for(var o=-1,i=Object(r),c=n(r),u=c.length;u--;){var h=c[e?u:++o];if(t(i[h],h,i)===!1)break}return r}}var eu=Qc,ru=eu,tu=ru(),nu=tu;function iu(e,r){for(var t=-1,n=Array(e);++t<e;)n[t]=r(t);return n}var ou=iu;function su(e){return e!=null&&typeof e=="object"}var Er=su,au=gr,cu=Er,uu="[object Arguments]";function lu(e){return cu(e)&&au(e)==uu}var fu=lu,Xn=fu,hu=Er,Eo=Object.prototype,pu=Eo.hasOwnProperty,du=Eo.propertyIsEnumerable,vu=Xn(function(){return arguments}())?Xn:function(e){return hu(e)&&pu.call(e,"callee")&&!du.call(e,"callee")},mo=vu,yu=Array.isArray,De=yu,Fr={exports:{}};function gu(){return!1}var Eu=gu;(function(e,r){var t=Te,n=Eu,o=r&&!r.nodeType&&r,i=o&&!0&&e&&!e.nodeType&&e,c=i&&i.exports===o,u=c?t.Buffer:void 0,h=u?u.isBuffer:void 0,f=h||n;e.exports=f})(Fr,Fr.exports);var mu=9007199254740991,bu=/^(?:0|[1-9]\d*)$/;function _u(e,r){var t=typeof e;return r=r==null?mu:r,!!r&&(t=="number"||t!="symbol"&&bu.test(e))&&e>-1&&e%1==0&&e<r}var bo=_u,wu=9007199254740991;function Au(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=wu}var nn=Au,Iu=gr,Su=nn,Tu=Er,xu="[object Arguments]",Ou="[object Array]",Ru="[object Boolean]",Nu="[object Date]",$u="[object Error]",Pu="[object Function]",Lu="[object Map]",Cu="[object Number]",Du="[object Object]",Bu="[object RegExp]",Fu="[object Set]",Uu="[object String]",Mu="[object WeakMap]",Gu="[object ArrayBuffer]",ju="[object DataView]",ku="[object Float32Array]",Hu="[object Float64Array]",Vu="[object Int8Array]",Xu="[object Int16Array]",Ku="[object Int32Array]",qu="[object Uint8Array]",Yu="[object Uint8ClampedArray]",zu="[object Uint16Array]",Wu="[object Uint32Array]",X={};X[ku]=X[Hu]=X[Vu]=X[Xu]=X[Ku]=X[qu]=X[Yu]=X[zu]=X[Wu]=!0;X[xu]=X[Ou]=X[Gu]=X[Ru]=X[ju]=X[Nu]=X[$u]=X[Pu]=X[Lu]=X[Cu]=X[Du]=X[Bu]=X[Fu]=X[Uu]=X[Mu]=!1;function Ju(e){return Tu(e)&&Su(e.length)&&!!X[Iu(e)]}var Zu=Ju;function Qu(e){return function(r){return e(r)}}var el=Qu,Ct={exports:{}};(function(e,r){var t=po,n=r&&!r.nodeType&&r,o=n&&!0&&e&&!e.nodeType&&e,i=o&&o.exports===n,c=i&&t.process,u=function(){try{var h=o&&o.require&&o.require("util").types;return h||c&&c.binding&&c.binding("util")}catch{}}();e.exports=u})(Ct,Ct.exports);var rl=Zu,tl=el,Kn=Ct.exports,qn=Kn&&Kn.isTypedArray,nl=qn?tl(qn):rl,_o=nl,il=ou,ol=mo,sl=De,al=Fr.exports,cl=bo,ul=_o,ll=Object.prototype,fl=ll.hasOwnProperty;function hl(e,r){var t=sl(e),n=!t&&ol(e),o=!t&&!n&&al(e),i=!t&&!n&&!o&&ul(e),c=t||n||o||i,u=c?il(e.length,String):[],h=u.length;for(var f in e)(r||fl.call(e,f))&&!(c&&(f=="length"||o&&(f=="offset"||f=="parent")||i&&(f=="buffer"||f=="byteLength"||f=="byteOffset")||cl(f,h)))&&u.push(f);return u}var pl=hl,dl=Object.prototype;function vl(e){var r=e&&e.constructor,t=typeof r=="function"&&r.prototype||dl;return e===t}var yl=vl;function gl(e,r){return function(t){return e(r(t))}}var El=gl,ml=El,bl=ml(Object.keys,Object),_l=bl,wl=yl,Al=_l,Il=Object.prototype,Sl=Il.hasOwnProperty;function Tl(e){if(!wl(e))return Al(e);var r=[];for(var t in Object(e))Sl.call(e,t)&&t!="constructor"&&r.push(t);return r}var xl=Tl,Ol=yo,Rl=nn;function Nl(e){return e!=null&&Rl(e.length)&&!Ol(e)}var $l=Nl,Pl=pl,Ll=xl,Cl=$l;function Dl(e){return Cl(e)?Pl(e):Ll(e)}var on=Dl,Bl=nu,Fl=on;function Ul(e,r){return e&&Bl(e,r,Fl)}var Ml=Ul;function Gl(){this.__data__=[],this.size=0}var jl=Gl;function kl(e,r){return e===r||e!==e&&r!==r}var wo=kl,Hl=wo;function Vl(e,r){for(var t=e.length;t--;)if(Hl(e[t][0],r))return t;return-1}var Wr=Vl,Xl=Wr,Kl=Array.prototype,ql=Kl.splice;function Yl(e){var r=this.__data__,t=Xl(r,e);if(t<0)return!1;var n=r.length-1;return t==n?r.pop():ql.call(r,t,1),--this.size,!0}var zl=Yl,Wl=Wr;function Jl(e){var r=this.__data__,t=Wl(r,e);return t<0?void 0:r[t][1]}var Zl=Jl,Ql=Wr;function ef(e){return Ql(this.__data__,e)>-1}var rf=ef,tf=Wr;function nf(e,r){var t=this.__data__,n=tf(t,e);return n<0?(++this.size,t.push([e,r])):t[n][1]=r,this}var of=nf,sf=jl,af=zl,cf=Zl,uf=rf,lf=of;function Qe(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}Qe.prototype.clear=sf;Qe.prototype.delete=af;Qe.prototype.get=cf;Qe.prototype.has=uf;Qe.prototype.set=lf;var Jr=Qe,ff=Jr;function hf(){this.__data__=new ff,this.size=0}var pf=hf;function df(e){var r=this.__data__,t=r.delete(e);return this.size=r.size,t}var vf=df;function yf(e){return this.__data__.get(e)}var gf=yf;function Ef(e){return this.__data__.has(e)}var mf=Ef,bf=He,_f=Te,wf=bf(_f,"Map"),sn=wf,Af=He,If=Af(Object,"create"),Zr=If,Yn=Zr;function Sf(){this.__data__=Yn?Yn(null):{},this.size=0}var Tf=Sf;function xf(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}var Of=xf,Rf=Zr,Nf="__lodash_hash_undefined__",$f=Object.prototype,Pf=$f.hasOwnProperty;function Lf(e){var r=this.__data__;if(Rf){var t=r[e];return t===Nf?void 0:t}return Pf.call(r,e)?r[e]:void 0}var Cf=Lf,Df=Zr,Bf=Object.prototype,Ff=Bf.hasOwnProperty;function Uf(e){var r=this.__data__;return Df?r[e]!==void 0:Ff.call(r,e)}var Mf=Uf,Gf=Zr,jf="__lodash_hash_undefined__";function kf(e,r){var t=this.__data__;return this.size+=this.has(e)?0:1,t[e]=Gf&&r===void 0?jf:r,this}var Hf=kf,Vf=Tf,Xf=Of,Kf=Cf,qf=Mf,Yf=Hf;function er(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}er.prototype.clear=Vf;er.prototype.delete=Xf;er.prototype.get=Kf;er.prototype.has=qf;er.prototype.set=Yf;var zf=er,zn=zf,Wf=Jr,Jf=sn;function Zf(){this.size=0,this.__data__={hash:new zn,map:new(Jf||Wf),string:new zn}}var Qf=Zf;function eh(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}var rh=eh,th=rh;function nh(e,r){var t=e.__data__;return th(r)?t[typeof r=="string"?"string":"hash"]:t.map}var Qr=nh,ih=Qr;function oh(e){var r=ih(this,e).delete(e);return this.size-=r?1:0,r}var sh=oh,ah=Qr;function ch(e){return ah(this,e).get(e)}var uh=ch,lh=Qr;function fh(e){return lh(this,e).has(e)}var hh=fh,ph=Qr;function dh(e,r){var t=ph(this,e),n=t.size;return t.set(e,r),this.size+=t.size==n?0:1,this}var vh=dh,yh=Qf,gh=sh,Eh=uh,mh=hh,bh=vh;function rr(e){var r=-1,t=e==null?0:e.length;for(this.clear();++r<t;){var n=e[r];this.set(n[0],n[1])}}rr.prototype.clear=yh;rr.prototype.delete=gh;rr.prototype.get=Eh;rr.prototype.has=mh;rr.prototype.set=bh;var an=rr,_h=Jr,wh=sn,Ah=an,Ih=200;function Sh(e,r){var t=this.__data__;if(t instanceof _h){var n=t.__data__;if(!wh||n.length<Ih-1)return n.push([e,r]),this.size=++t.size,this;t=this.__data__=new Ah(n)}return t.set(e,r),this.size=t.size,this}var Th=Sh,xh=Jr,Oh=pf,Rh=vf,Nh=gf,$h=mf,Ph=Th;function tr(e){var r=this.__data__=new xh(e);this.size=r.size}tr.prototype.clear=Oh;tr.prototype.delete=Rh;tr.prototype.get=Nh;tr.prototype.has=$h;tr.prototype.set=Ph;var Ao=tr,Lh="__lodash_hash_undefined__";function Ch(e){return this.__data__.set(e,Lh),this}var Dh=Ch;function Bh(e){return this.__data__.has(e)}var Fh=Bh,Uh=an,Mh=Dh,Gh=Fh;function Ur(e){var r=-1,t=e==null?0:e.length;for(this.__data__=new Uh;++r<t;)this.add(e[r])}Ur.prototype.add=Ur.prototype.push=Mh;Ur.prototype.has=Gh;var jh=Ur;function kh(e,r){for(var t=-1,n=e==null?0:e.length;++t<n;)if(r(e[t],t,e))return!0;return!1}var Hh=kh;function Vh(e,r){return e.has(r)}var Xh=Vh,Kh=jh,qh=Hh,Yh=Xh,zh=1,Wh=2;function Jh(e,r,t,n,o,i){var c=t&zh,u=e.length,h=r.length;if(u!=h&&!(c&&h>u))return!1;var f=i.get(e),v=i.get(r);if(f&&v)return f==r&&v==e;var E=-1,b=!0,_=t&Wh?new Kh:void 0;for(i.set(e,r),i.set(r,e);++E<u;){var N=e[E],R=r[E];if(n)var C=c?n(R,N,E,r,e,i):n(N,R,E,e,r,i);if(C!==void 0){if(C)continue;b=!1;break}if(_){if(!qh(r,function(k,J){if(!Yh(_,J)&&(N===k||o(N,k,t,n,i)))return _.push(J)})){b=!1;break}}else if(!(N===R||o(N,R,t,n,i))){b=!1;break}}return i.delete(e),i.delete(r),b}var Io=Jh,Zh=Te,Qh=Zh.Uint8Array,ep=Qh;function rp(e){var r=-1,t=Array(e.size);return e.forEach(function(n,o){t[++r]=[o,n]}),t}var tp=rp;function np(e){var r=-1,t=Array(e.size);return e.forEach(function(n){t[++r]=n}),t}var ip=np,Wn=zr,Jn=ep,op=wo,sp=Io,ap=tp,cp=ip,up=1,lp=2,fp="[object Boolean]",hp="[object Date]",pp="[object Error]",dp="[object Map]",vp="[object Number]",yp="[object RegExp]",gp="[object Set]",Ep="[object String]",mp="[object Symbol]",bp="[object ArrayBuffer]",_p="[object DataView]",Zn=Wn?Wn.prototype:void 0,vt=Zn?Zn.valueOf:void 0;function wp(e,r,t,n,o,i,c){switch(t){case _p:if(e.byteLength!=r.byteLength||e.byteOffset!=r.byteOffset)return!1;e=e.buffer,r=r.buffer;case bp:return!(e.byteLength!=r.byteLength||!i(new Jn(e),new Jn(r)));case fp:case hp:case vp:return op(+e,+r);case pp:return e.name==r.name&&e.message==r.message;case yp:case Ep:return e==r+"";case dp:var u=ap;case gp:var h=n&up;if(u||(u=cp),e.size!=r.size&&!h)return!1;var f=c.get(e);if(f)return f==r;n|=lp,c.set(e,r);var v=sp(u(e),u(r),n,o,i,c);return c.delete(e),v;case mp:if(vt)return vt.call(e)==vt.call(r)}return!1}var Ap=wp;function Ip(e,r){for(var t=-1,n=r.length,o=e.length;++t<n;)e[o+t]=r[t];return e}var Sp=Ip,Tp=Sp,xp=De;function Op(e,r,t){var n=r(e);return xp(e)?n:Tp(n,t(e))}var Rp=Op;function Np(e,r){for(var t=-1,n=e==null?0:e.length,o=0,i=[];++t<n;){var c=e[t];r(c,t,e)&&(i[o++]=c)}return i}var $p=Np;function Pp(){return[]}var Lp=Pp,Cp=$p,Dp=Lp,Bp=Object.prototype,Fp=Bp.propertyIsEnumerable,Qn=Object.getOwnPropertySymbols,Up=Qn?function(e){return e==null?[]:(e=Object(e),Cp(Qn(e),function(r){return Fp.call(e,r)}))}:Dp,Mp=Up,Gp=Rp,jp=Mp,kp=on;function Hp(e){return Gp(e,kp,jp)}var Vp=Hp,ei=Vp,Xp=1,Kp=Object.prototype,qp=Kp.hasOwnProperty;function Yp(e,r,t,n,o,i){var c=t&Xp,u=ei(e),h=u.length,f=ei(r),v=f.length;if(h!=v&&!c)return!1;for(var E=h;E--;){var b=u[E];if(!(c?b in r:qp.call(r,b)))return!1}var _=i.get(e),N=i.get(r);if(_&&N)return _==r&&N==e;var R=!0;i.set(e,r),i.set(r,e);for(var C=c;++E<h;){b=u[E];var k=e[b],J=r[b];if(n)var ie=c?n(J,k,b,r,e,i):n(k,J,b,e,r,i);if(!(ie===void 0?k===J||o(k,J,t,n,i):ie)){R=!1;break}C||(C=b=="constructor")}if(R&&!C){var oe=e.constructor,z=r.constructor;oe!=z&&"constructor"in e&&"constructor"in r&&!(typeof oe=="function"&&oe instanceof oe&&typeof z=="function"&&z instanceof z)&&(R=!1)}return i.delete(e),i.delete(r),R}var zp=Yp,Wp=He,Jp=Te,Zp=Wp(Jp,"DataView"),Qp=Zp,ed=He,rd=Te,td=ed(rd,"Promise"),nd=td,id=He,od=Te,sd=id(od,"Set"),ad=sd,cd=He,ud=Te,ld=cd(ud,"WeakMap"),fd=ld,Dt=Qp,Bt=sn,Ft=nd,Ut=ad,Mt=fd,So=gr,nr=go,ri="[object Map]",hd="[object Object]",ti="[object Promise]",ni="[object Set]",ii="[object WeakMap]",oi="[object DataView]",pd=nr(Dt),dd=nr(Bt),vd=nr(Ft),yd=nr(Ut),gd=nr(Mt),Ue=So;(Dt&&Ue(new Dt(new ArrayBuffer(1)))!=oi||Bt&&Ue(new Bt)!=ri||Ft&&Ue(Ft.resolve())!=ti||Ut&&Ue(new Ut)!=ni||Mt&&Ue(new Mt)!=ii)&&(Ue=function(e){var r=So(e),t=r==hd?e.constructor:void 0,n=t?nr(t):"";if(n)switch(n){case pd:return oi;case dd:return ri;case vd:return ti;case yd:return ni;case gd:return ii}return r});var Ed=Ue,yt=Ao,md=Io,bd=Ap,_d=zp,si=Ed,ai=De,ci=Fr.exports,wd=_o,Ad=1,ui="[object Arguments]",li="[object Array]",_r="[object Object]",Id=Object.prototype,fi=Id.hasOwnProperty;function Sd(e,r,t,n,o,i){var c=ai(e),u=ai(r),h=c?li:si(e),f=u?li:si(r);h=h==ui?_r:h,f=f==ui?_r:f;var v=h==_r,E=f==_r,b=h==f;if(b&&ci(e)){if(!ci(r))return!1;c=!0,v=!1}if(b&&!v)return i||(i=new yt),c||wd(e)?md(e,r,t,n,o,i):bd(e,r,h,t,n,o,i);if(!(t&Ad)){var _=v&&fi.call(e,"__wrapped__"),N=E&&fi.call(r,"__wrapped__");if(_||N){var R=_?e.value():e,C=N?r.value():r;return i||(i=new yt),o(R,C,t,n,i)}}return b?(i||(i=new yt),_d(e,r,t,n,o,i)):!1}var Td=Sd,xd=Td,hi=Er;function To(e,r,t,n,o){return e===r?!0:e==null||r==null||!hi(e)&&!hi(r)?e!==e&&r!==r:xd(e,r,t,n,To,o)}var xo=To,Od=Ao,Rd=xo,Nd=1,$d=2;function Pd(e,r,t,n){var o=t.length,i=o,c=!n;if(e==null)return!i;for(e=Object(e);o--;){var u=t[o];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++o<i;){u=t[o];var h=u[0],f=e[h],v=u[1];if(c&&u[2]){if(f===void 0&&!(h in e))return!1}else{var E=new Od;if(n)var b=n(f,v,h,e,r,E);if(!(b===void 0?Rd(v,f,Nd|$d,n,E):b))return!1}}return!0}var Ld=Pd,Cd=tn;function Dd(e){return e===e&&!Cd(e)}var Oo=Dd,Bd=Oo,Fd=on;function Ud(e){for(var r=Fd(e),t=r.length;t--;){var n=r[t],o=e[n];r[t]=[n,o,Bd(o)]}return r}var Md=Ud;function Gd(e,r){return function(t){return t==null?!1:t[e]===r&&(r!==void 0||e in Object(t))}}var Ro=Gd,jd=Ld,kd=Md,Hd=Ro;function Vd(e){var r=kd(e);return r.length==1&&r[0][2]?Hd(r[0][0],r[0][1]):function(t){return t===e||jd(t,e,r)}}var Xd=Vd,Kd=gr,qd=Er,Yd="[object Symbol]";function zd(e){return typeof e=="symbol"||qd(e)&&Kd(e)==Yd}var cn=zd,Wd=De,Jd=cn,Zd=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Qd=/^\w*$/;function e0(e,r){if(Wd(e))return!1;var t=typeof e;return t=="number"||t=="symbol"||t=="boolean"||e==null||Jd(e)?!0:Qd.test(e)||!Zd.test(e)||r!=null&&e in Object(r)}var un=e0,No=an,r0="Expected a function";function ln(e,r){if(typeof e!="function"||r!=null&&typeof r!="function")throw new TypeError(r0);var t=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=t.cache;if(i.has(o))return i.get(o);var c=e.apply(this,n);return t.cache=i.set(o,c)||i,c};return t.cache=new(ln.Cache||No),t}ln.Cache=No;var t0=ln,n0=t0,i0=500;function o0(e){var r=n0(e,function(n){return t.size===i0&&t.clear(),n}),t=r.cache;return r}var s0=o0,a0=s0,c0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,u0=/\\(\\)?/g,l0=a0(function(e){var r=[];return e.charCodeAt(0)===46&&r.push(""),e.replace(c0,function(t,n,o,i){r.push(o?i.replace(u0,"$1"):n||t)}),r}),f0=l0;function h0(e,r){for(var t=-1,n=e==null?0:e.length,o=Array(n);++t<n;)o[t]=r(e[t],t,e);return o}var p0=h0,pi=zr,d0=p0,v0=De,y0=cn,g0=1/0,di=pi?pi.prototype:void 0,vi=di?di.toString:void 0;function $o(e){if(typeof e=="string")return e;if(v0(e))return d0(e,$o)+"";if(y0(e))return vi?vi.call(e):"";var r=e+"";return r=="0"&&1/e==-g0?"-0":r}var E0=$o,m0=E0;function b0(e){return e==null?"":m0(e)}var _0=b0,w0=De,A0=un,I0=f0,S0=_0;function T0(e,r){return w0(e)?e:A0(e,r)?[e]:I0(S0(e))}var Po=T0,x0=cn,O0=1/0;function R0(e){if(typeof e=="string"||x0(e))return e;var r=e+"";return r=="0"&&1/e==-O0?"-0":r}var et=R0,N0=Po,$0=et;function P0(e,r){r=N0(r,e);for(var t=0,n=r.length;e!=null&&t<n;)e=e[$0(r[t++])];return t&&t==n?e:void 0}var Lo=P0,L0=Lo;function C0(e,r,t){var n=e==null?void 0:L0(e,r);return n===void 0?t:n}var D0=C0;function B0(e,r){return e!=null&&r in Object(e)}var F0=B0,U0=Po,M0=mo,G0=De,j0=bo,k0=nn,H0=et;function V0(e,r,t){r=U0(r,e);for(var n=-1,o=r.length,i=!1;++n<o;){var c=H0(r[n]);if(!(i=e!=null&&t(e,c)))break;e=e[c]}return i||++n!=o?i:(o=e==null?0:e.length,!!o&&k0(o)&&j0(c,o)&&(G0(e)||M0(e)))}var X0=V0,K0=F0,q0=X0;function Y0(e,r){return e!=null&&q0(e,r,K0)}var z0=Y0,W0=xo,J0=D0,Z0=z0,Q0=un,ev=Oo,rv=Ro,tv=et,nv=1,iv=2;function ov(e,r){return Q0(e)&&ev(r)?rv(tv(e),r):function(t){var n=J0(t,e);return n===void 0&&n===r?Z0(t,e):W0(r,n,nv|iv)}}var sv=ov;function av(e){return e}var cv=av;function uv(e){return function(r){return r==null?void 0:r[e]}}var lv=uv,fv=Lo;function hv(e){return function(r){return fv(r,e)}}var pv=hv,dv=lv,vv=pv,yv=un,gv=et;function Ev(e){return yv(e)?dv(gv(e)):vv(e)}var mv=Ev,bv=Xd,_v=sv,wv=cv,Av=De,Iv=mv;function Sv(e){return typeof e=="function"?e:e==null?wv:typeof e=="object"?Av(e)?_v(e[0],e[1]):bv(e):Iv(e)}var Tv=Sv,xv=Zc,Ov=Ml,Rv=Tv;function Nv(e,r){var t={};return r=Rv(r),Ov(e,function(n,o,i){xv(t,o,r(n,o,i))}),t}var $v=Nv,Gt=globalThis&&globalThis.__assign||function(){return Gt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Gt.apply(this,arguments)},H=function(e){if(!Number.isNaN(e))return parseInt(e,10)},gt=function(e){if(!Number.isNaN(e))return parseFloat(e)},B=function(e){return typeof e=="boolean"?e:!(e==="0"||e==="false")},I=function(e){return typeof e=="string"?e:void 0},Pv=function(e){try{if(typeof e!="string")throw new Error;return JSON.parse(e)}catch{return}},Lv=function(e){var r=typeof e=="string"?e.split(","):null;if(Array.isArray(r)&&r.length>0)return r},Cv={ANALYTICS_CONSOLE:{def:!1,parser:B,desc:"Show tracking overlays on the app UI"},DEBUG_THEME:{def:!1,parser:B,desc:"Show theme debug overlay UI"},API_ALGORAND_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://algorand.coin.ledger.com",parser:I,desc:"Node API endpoint for algorand"},API_CELO_INDEXER:{def:"https://celo.coin.ledger.com/indexer/",parser:I,desc:"Explorer API for celo"},API_CELO_NODE:{def:"https://celo.coin.ledger.com/archive/",parser:I,desc:"Node endpoint for celo"},API_COSMOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://cosmoshub4.coin.ledger.com",parser:I,desc:"Node endpoint for cosmos"},API_RIPPLE_RPC:{parser:I,def:"https://xrplcluster.com/ledgerlive",desc:"XRP Ledger full history open JSON-RPC endpoint"},API_FILECOIN_ENDPOINT:{parser:I,def:"https://filecoin.coin.ledger.com",desc:"Filecoin API url"},API_NEAR_ARCHIVE_NODE:{def:"https://near.coin.ledger.com/node/",parser:I,desc:"Archive node endpoint for NEAR"},API_NEAR_INDEXER:{def:"https://near.coin.ledger.com/indexer/",parser:I,desc:"Datahub Indexer API for NEAR"},API_NEAR_STAKING_POSITIONS_API:{def:"https://validators-near.coin.ledger.com/",parser:I,desc:"NEAR staking positions API"},API_POLKADOT_INDEXER:{parser:I,def:"https://polkadot.coin.ledger.com",desc:"Explorer API for polkadot"},API_POLKADOT_SIDECAR:{parser:I,def:"https://polkadot-sidecar.coin.ledger.com",desc:"Polkadot Sidecar API url"},ELROND_API_ENDPOINT:{parser:I,def:"https://elrond.coin.ledger.com",desc:"Elrond API url"},ELROND_DELEGATION_API_ENDPOINT:{parser:I,def:"https://delegations-elrond.coin.ledger.com",desc:"Elrond DELEGATION API url"},API_STELLAR_HORIZON:{parser:I,def:"https://stellar.coin.ledger.com",desc:"Stellar Horizon API url"},API_STELLAR_HORIZON_FETCH_LIMIT:{parser:H,def:100,desc:"Limit of operation that Horizon will fetch per page"},API_STELLAR_HORIZON_STATIC_FEE:{def:!1,parser:B,desc:"Static fee for Stellar account"},API_OSMOSIS_NODE:{def:"https://osmosis.coin.ledger-stg.com",parser:I,desc:"Endpoint for Osmosis Node"},API_TEZOS_BAKER:{parser:I,def:"https://tezos-bakers.api.live.ledger.com",desc:"bakers API for tezos"},API_TEZOS_BLOCKCHAIN_EXPLORER_API_ENDPOINT:{def:"https://xtz-explorer.api.live.ledger.com/explorer",parser:I,desc:"Ledger explorer API for tezos"},API_TEZOS_TZKT_API:{def:"https://xtz-tzkt-explorer.api.live.ledger.com",parser:I,desc:"tzkt.io explorer"},API_TEZOS_NODE:{def:"https://xtz-node.api.live.ledger.com",parser:I,desc:"node API for tezos (for broadcast only)"},API_TRONGRID_PROXY:{parser:I,def:"https://tron.coin.ledger.com",desc:"proxy url for trongrid API"},API_SOLANA_PROXY:{parser:I,def:"https://solana.coin.ledger.com",desc:"proxy url for solana API"},SOLANA_VALIDATORS_APP_BASE_URL:{parser:I,def:"https://validators-solana.coin.ledger.com/api/v1/validators",desc:"base url for validators.app validator list"},SOLANA_TX_CONFIRMATION_TIMEOUT:{def:100*1e3,parser:H,desc:"solana transaction broadcast confirmation timeout"},API_HEDERA_MIRROR:{def:"https://hedera.coin.ledger.com",parser:I,desc:"mirror node API for Hedera"},BASE_SOCKET_URL:{def:"wss://scriptrunner.api.live.ledger.com/update",parser:I,desc:"Ledger script runner API"},BOT_TIMEOUT_SCAN_ACCOUNTS:{def:10*60*1e3,parser:H,desc:"bot's default timeout for scanAccounts"},BOT_SPEC_DEFAULT_TIMEOUT:{def:30*60*1e3,parser:H,desc:"define the default value of spec.skipMutationsTimeout (if not overriden by spec)"},CARDANO_API_ENDPOINT:{def:"https://cardano.coin.ledger.com/api",parser:I,desc:"Cardano API url"},CARDANO_TESTNET_API_ENDPOINT:{def:"https://testnet-ledger.cardanoscan.io/api",parser:I,desc:"Cardano API url"},COINAPPS:{def:"",parser:I,desc:"(dev feature) defines the folder for speculos mode that contains Nano apps binaries (.elf) in a specific structure: <device>/<firmware>/<appName>/app_<appVersion>.elf"},COMPOUND_API:{def:"https://api.compound.finance",parser:I,desc:"location of the compound API"},CRYPTO_ORG_INDEXER:{def:"https://cryptoorg-rpc-indexer.coin.ledger.com",parser:I,desc:"location of the crypto.org indexer API"},CRYPTO_ORG_TESTNET_INDEXER:{def:"https://crypto.org/explorer/croeseid4",parser:I,desc:"location of the crypto.org indexer testnet API"},CRYPTO_ORG_RPC_URL:{def:"https://cryptoorg-rpc-node.coin.ledger.com",parser:I,desc:"location of the crypto.org chain node"},CRYPTO_ORG_TESTNET_RPC_URL:{def:"https://testnet-croeseid-4.crypto.org:26657",parser:I,desc:"location of the crypto.org chain testnet node"},DEBUG_UTXO_DISPLAY:{def:4,parser:H,desc:"define maximum number of utxos to display in CLI"},DEBUG_HTTP_RESPONSE:{def:!1,parser:B,desc:"includes HTTP response body in logs"},DEVICE_CANCEL_APDU_FLUSH_MECHANISM:{def:!0,parser:B,desc:"enable a mechanism that send a 0x00 apdu to force device to awake from its 'Processing' UI state"},DEVICE_PROXY_URL:{def:"",parser:I,desc:"enable a proxy to use instead of a physical device"},DEVICE_PROXY_MODEL:{def:"nanoS",parser:I,desc:"allow to override the default model of a proxied device"},DISABLE_TRANSACTION_BROADCAST:{def:!1,parser:B,desc:"disable broadcast of transactions"},DISABLE_SYNC_TOKEN:{def:!0,parser:B,desc:"disable a problematic mechanism of our API"},DISABLE_FW_UPDATE_VERSION_CHECK:{def:!1,parser:B,desc:"disable the version check for firmware update eligibility"},EIP1559_ENABLED_CURRENCIES:{def:"ethereum,ethereum_goerli,polygon",parser:Lv,desc:"set the currency ids where EIP1559 is enabled"},EIP1559_MINIMUM_FEES_GATE:{def:!0,parser:B,desc:"prevents the user from doing an EIP1559 transaction with fees too low"},EIP1559_PRIORITY_FEE_LOWER_GATE:{def:.85,parser:gt,desc:"minimum priority fee percents allowed compared to network conditions allowed when EIP1559_MINIMUM_FEES_GATE is activated"},ETHEREUM_GAS_LIMIT_AMPLIFIER:{def:1.2,parser:gt,desc:"Ethereum gasLimit multiplier for contracts to prevent out of gas issue"},EXPERIMENTAL_BLE:{def:!1,parser:B,desc:"enable experimental support of Bluetooth"},EXPERIMENTAL_CURRENCIES:{def:"",parser:I,desc:"enable experimental support of currencies (comma separated)"},EXPERIMENTAL_EXPLORERS:{def:!1,parser:B,desc:"enable experimental explorer APIs"},EXPERIMENTAL_FALLBACK_APDU_LISTAPPS:{def:!1,parser:B,desc:"if HSM list apps fails, fallback on APDU version (>=1.6.0)"},EXPERIMENTAL_LANGUAGES:{def:!1,parser:B,desc:"enable experimental languages"},EXPERIMENTAL_MANAGER:{def:!1,parser:B,desc:"enable an experimental version of Manager"},EXPERIMENTAL_ROI_CALCULATION:{def:!1,parser:B,desc:"enable an experimental version of the portfolio percentage calculation"},EXPERIMENTAL_SEND_MAX:{def:!1,parser:B,desc:"force enabling SEND MAX even if not yet stable"},EXPERIMENTAL_USB:{def:!1,parser:B,desc:"enable an experimental implementation of USB support"},EXPERIMENTAL_SWAP:{def:!1,parser:B,desc:"enable an experimental swap interface"},EXPERIMENTAL_EXECUTION_ON_RENDERER:{def:!1,parser:B,desc:"enable an experimental execution of business logic to run on renderer side (LLD)"},EXPLORER:{def:"https://explorers.api.live.ledger.com",parser:I,desc:"Ledger generic explorer API"},EXPLORER_STAGING:{def:"https://explorers.api-01.live.ledger-stg.com",parser:I,desc:"Ledger staging explorer API"},EXPLORER_BETA:{def:"https://explorers.api.live.ledger.com",parser:I,desc:"Ledger generic explorer beta API"},EXPLORER_SATSTACK:{def:"http://localhost:20000",parser:I,desc:"Ledger satstack Bitcoin explorer API"},EXPORT_EXCLUDED_LOG_TYPES:{def:"ble-frame",parser:I,desc:"comma-separated list of excluded log types for exported logs"},EXPORT_MAX_LOGS:{def:5e3,parser:H,desc:"maximum logs to keep for export"},DISABLE_APP_VERSION_REQUIREMENTS:{def:!1,parser:B,desc:"force an old application version to be accepted regardless of its version"},FORCE_PROVIDER:{def:1,parser:H,desc:"use a different provider for app store (for developers only)"},GET_CALLS_RETRY:{def:2,parser:H,desc:"how many times to retry a GET http call"},GET_CALLS_TIMEOUT:{def:60*1e3,parser:H,desc:"how much time to timeout a GET http call"},HIDE_EMPTY_TOKEN_ACCOUNTS:{def:!1,parser:B,desc:"hide the sub accounts when they are empty"},KEYCHAIN_OBSERVABLE_RANGE:{def:0,parser:H,desc:"overrides the gap limit specified by BIP44 (default to 20)"},LEDGER_CLIENT_VERSION:{def:"",parser:I,desc:"the 'X-Ledger-Client-Version' HTTP header to use for queries to Ledger APIs"},LEDGER_COUNTERVALUES_API:{def:"https://countervalues.live.ledger.com",parser:I,desc:"Ledger countervalues API"},LEDGER_REST_API_BASE:{def:"https://explorers.api.live.ledger.com",parser:I,desc:"DEPRECATED"},LEGACY_KT_SUPPORT_TO_YOUR_OWN_RISK:{def:!1,parser:B,desc:"enable sending to KT accounts. Not tested."},MANAGER_API_BASE:{def:"https://manager.api.live.ledger.com/api",parser:I,desc:"Ledger Manager API"},MANAGER_DEV_MODE:{def:!1,parser:B,desc:"enable visibility of utility apps in Manager"},MANAGER_INSTALL_DELAY:{def:1e3,parser:H,desc:"defines the time to wait before installing apps to prevent known glitch (<=1.5.5) when chaining installs"},MAX_ACCOUNT_NAME_SIZE:{def:50,parser:H,desc:"maximum size of account names"},MOCK:{def:"",parser:I,desc:"switch the app into a MOCK mode for test purpose, the value will be used as a seed for the rng. Avoid falsy values."},MOCK_COUNTERVALUES:{def:"",parser:I,desc:"switch the countervalues resolution into a MOCK mode for test purpose"},MOCK_SWAP_KYC:{def:"",parser:I,desc:"mock the server response for the exchange KYC check, options are 'open', 'pending', 'closed' or 'approved'."},MOCK_SWAP_CHECK_QUOTE:{def:"",parser:I,desc:"mock the server response for the exchange check quote, options are 'RATE_VALID', 'KYC_FAILED', 'KYC_PENDING', 'KYC_UNDEFINED', 'KYC_UPGRADE_REQUIRED', 'MFA_REQUIRED', 'OVER_TRADE_LIMIT', 'UNKNOW_USER' or 'UNKNOWN_ERROR'."},MOCK_SWAP_WIDGET_BASE_URL:{def:"",parser:I,desc:"mock the FTX swap widget base url"},MOCK_EXCHANGE_TEST_CONFIG:{def:!1,parser:B,desc:"mock the cryptoassets config and test partner (in the context of app-exchange)"},MOCK_REMOTE_LIVE_MANIFEST:{def:"",parser:I,desc:"mock remote live app manifest"},MOCK_OS_VERSION:{def:"",parser:I,desc:"if defined, overrides the os and version. format: os@version. Example: Windows_NT@6.1.7601"},NFT_CURRENCIES:{def:"ethereum,polygon",parser:I,desc:"set the currencies where NFT is active"},NFT_ETH_METADATA_SERVICE:{def:"https://nft.api.live.ledger.com",parser:I,desc:"service uri used to get the metadata of an nft"},OPERATION_ADDRESSES_LIMIT:{def:100,parser:H,desc:"limit the number of addresses in from/to of operations"},OPERATION_OPTIMISTIC_RETENTION:{def:30*60*1e3,parser:H,desc:"timeout to keep an optimistic operation that was broadcasted but not yet visible from the coin implementation or the API"},OPERATION_PAGE_SIZE_INITIAL:{def:100,parser:H,desc:"defines the initial default operation length page to use"},POLKADOT_ELECTION_STATUS_THRESHOLD:{def:25,parser:H,desc:"in blocks - number of blocks before Polkadot election effectively opens to consider it as open and disable all staking features"},SATSTACK:{def:!1,parser:B,desc:"Switch to satstack mode"},SCAN_FOR_INVALID_PATHS:{def:!1,parser:B,desc:"enable searching accounts in exotic derivation paths"},SEED:{def:"",parser:I,desc:"(dev feature) seed to be used by speculos (device simulator)"},SHOW_LEGACY_NEW_ACCOUNT:{def:!1,parser:B,desc:"allow the creation of legacy accounts"},SKIP_ONBOARDING:{def:!1,parser:B,desc:"dev flag to skip onboarding flow"},SWAP_API_BASE:{def:"https://swap.ledger.com/v4",parser:I,desc:"Swap API base"},SYNC_ALL_INTERVAL:{def:2*60*1e3,parser:H,desc:"delay between successive sync"},SYNC_BOOT_DELAY:{def:2*1e3,parser:H,desc:"delay before the sync starts"},SYNC_PENDING_INTERVAL:{def:10*1e3,parser:H,desc:"delay between sync when an operation is still pending"},SYNC_OUTDATED_CONSIDERED_DELAY:{def:2*60*1e3,parser:H,desc:"delay until Live consider a sync outdated"},SYNC_MAX_CONCURRENT:{def:4,parser:H,desc:"maximum limit to synchronize accounts concurrently to limit overload"},BOT_MAX_CONCURRENT:{def:10,parser:H,desc:"maximum limit to run bot spec in parallel"},USER_ID:{def:"",parser:I,desc:"unique identifier of app instance. used to derivate dissociated ids for difference purposes (e.g. the firmware update incremental deployment)."},WALLETCONNECT:{def:!1,parser:B,desc:"is walletconnect enabled"},WITH_DEVICE_POLLING_DELAY:{def:500,parser:gt,desc:"delay when polling device"},ANNOUNCEMENTS_API_URL:{def:"https://cdn.live.ledger.com/announcements",parser:I,desc:"url used to fetch new announcements"},ANNOUNCEMENTS_API_VERSION:{def:1,parser:H,desc:"version used for the announcements api"},STATUS_API_URL:{def:"https://ledger.statuspage.io/api",parser:I,desc:"url used to fetch ledger status"},STATUS_API_VERSION:{def:2,parser:H,desc:"version used for ledger status api"},TEZOS_MAX_TX_QUERIES:{def:100,parser:H,desc:"safe max on maximum number of queries to synchronize a tezos account"},PLATFORM_DEBUG:{def:!1,parser:B,desc:"enable visibility of debug apps and tools in Platform Catalog"},PLATFORM_EXPERIMENTAL_APPS:{def:!1,parser:B,desc:"enable visibility of experimental apps and tools in Platform Catalog"},PLATFORM_MANIFEST_API_URL:{def:"https://live-app-catalog.ledger.com/api/v1/apps",parser:I,desc:"url used to fetch platform app manifests"},PLATFORM_LOCAL_MANIFEST_JSON:{def:"",parser:I,desc:'json manifest for a local (test) platform app manifests. How to use: PLATFORM_LOCAL_MANIFEST_JSON="$(cat /path/to/file.json)"'},PLATFORM_GLOBAL_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/catalog/v1/data.json",parser:I,desc:"url used to fetch platform app manifests"},PLATFORM_GLOBAL_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/catalog/v1/data.json",parser:I,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_RAMP_CATALOG_API_URL:{def:"https://cdn.live.ledger.com/platform/trade/v1/data.json",parser:I,desc:"url used to fetch platform app manifests"},PLATFORM_RAMP_CATALOG_STAGING_API_URL:{def:"https://cdn.live.ledger-stg.com/platform/trade/v1/data.json",parser:I,desc:"url used to fetch platform app manifests (staging)"},PLATFORM_API_URL:{def:"",parser:I,desc:"url used to fetch platform catalog"},PLATFORM_API_VERSION:{def:1,parser:H,desc:"version used for the platform api"},PLAYWRIGHT_RUN:{def:!1,parser:B,desc:"true when launched for E2E testing"},MARKET_API_URL:{def:"https://proxycg.api.live.ledger.com/api/v3",parser:I,desc:"Market data api"},USE_LEARN_STAGING_URL:{def:!1,parser:B,desc:"use the staging URL for the learn page"},DYNAMIC_CAL_BASE_URL:{def:"https://cdn.live.ledger.com/cryptoassets",parser:I,desc:"bucket S3 of the dynamic cryptoassets list"},FEATURE_FLAGS:{def:"{}",parser:Pv,desc:"key value map for feature flags: {[key in FeatureId]?: Feature]}"}},Dv=$v(Cv,function(e){return e.def}),Bv=Gt({},Dv),Fv=function(e){return Bv[e]};new Wt;var Uv=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(v){try{f(n.next(v))}catch(E){c(E)}}function h(v){try{f(n.throw(v))}catch(E){c(E)}}function f(v){v.done?i(v.value):o(v.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Mv=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(v){f=[6,v],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Gv=function(e){return Hr(e&&e instanceof Br&&e.statusCode===28586?new Ua(e.message):e.statusCode===27392?new Va(e.message):e)},jv=function(e){return Hr(e)},kv=new Promise(function(){}),Hv=function(e){return function(r){return Z.create(function(t){var n=!1,o=function(){return n?kv:(n=!0,e())},i=r.subscribe({next:function(c){return t.next(c)},complete:function(){o().then(function(){return t.complete()})},error:function(c){o().then(function(){return t.error(c)})}});return function(){i.unsubscribe(),o()}})}},yi=function(e){return typeof e.id=="string"?e.id:""},gi={},Ei={},Vv=0,Co=function(e){return function(r){return new Z(function(t){var n=Vv++;$e("withDevice","".concat(n,": New job: deviceId=").concat(e||"USB"));var o,i,c=Ei[e]||Promise.resolve(),u=function(f,v){return Nn(f,e,!0),ws(f,e).catch(function(){}).then(function(){v.forEach(function(E){return E()})})},h;return Ei[e]=new Promise(function(f){h=f}),$e("withDevice","".concat(n,": Waiting for queue to complete"),{deviceQueue:c}),c.then(function(){return no(e)}).then(function(f){return Uv(void 0,void 0,void 0,function(){return Mv(this,function(v){switch(v.label){case 0:return $e("withDevice","".concat(n,": Starting job")),Nn(f,e,!1),o?[2,u(f,[h])]:gi[yi(f)]?(delete gi[yi(f)],[4,f.send(0,0,0,0).catch(function(){})]):[3,2];case 1:v.sent(),v.label=2;case 2:return[2,f]}})})}).catch(function(f){throw h(),f instanceof Ba||f instanceof Ha||f instanceof ja?f:new Fa(f.message)}).then(function(f){if(!!f){if(o)return u(f,[h]);i=r(f).pipe(Lt(Gv),Lt(jv),Hv(function(){return $e("withDevice","".concat(n,": job fully completed")),u(f,[h])})).subscribe(t)}}).catch(function(f){return t.error(f)}),function(){$e("withDevice","".concat(n,": Unsubscribing job: ").concat(!!i)),o=!0,i&&i.unsubscribe()}})}},Xv=function(e){return function(r){return r.pipe(lo(function(t){return e(t)?na(Fv("WITH_DEVICE_POLLING_DELAY")):Hr(t)}))}},jt=function(e,r){return jt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])},jt(e,r)};function fn(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");jt(e,r);function t(){this.constructor=e}e.prototype=r===null?Object.create(r):(t.prototype=r.prototype,new t)}function Kv(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(v){try{f(n.next(v))}catch(E){c(E)}}function h(v){try{f(n.throw(v))}catch(E){c(E)}}function f(v){v.done?i(v.value):o(v.value).then(u,h)}f((n=n.apply(e,r||[])).next())})}function Do(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;c&&(c=0,f[0]&&(t=0)),t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(v){f=[6,v],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function hr(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mr(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i}function Gr(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))}function We(e){return this instanceof We?(this.v=e,this):new We(e)}function qv(e,r,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=t.apply(e,r||[]),o,i=[];return o={},c("next"),c("throw"),c("return"),o[Symbol.asyncIterator]=function(){return this},o;function c(b){n[b]&&(o[b]=function(_){return new Promise(function(N,R){i.push([b,_,N,R])>1||u(b,_)})})}function u(b,_){try{h(n[b](_))}catch(N){E(i[0][3],N)}}function h(b){b.value instanceof We?Promise.resolve(b.value.v).then(f,v):E(i[0][2],b)}function f(b){u("next",b)}function v(b){u("throw",b)}function E(b,_){b(_),i.shift(),i.length&&u(i[0][0],i[0][1])}}function Yv(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=e[Symbol.asyncIterator],t;return r?r.call(e):(e=typeof hr=="function"?hr(e):e[Symbol.iterator](),t={},n("next"),n("throw"),n("return"),t[Symbol.asyncIterator]=function(){return this},t);function n(i){t[i]=e[i]&&function(c){return new Promise(function(u,h){c=e[i](c),o(u,h,c.done,c.value)})}}function o(i,c,u,h){Promise.resolve(h).then(function(f){i({value:f,done:u})},c)}}function re(e){return typeof e=="function"}function zv(e){var r=function(n){Error.call(n),n.stack=new Error().stack},t=e(r);return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Et=zv(function(e){return function(t){e(this),this.message=t?t.length+` errors occurred during unsubscription:
`+t.map(function(n,o){return o+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=t}});function mi(e,r){if(e){var t=e.indexOf(r);0<=t&&e.splice(t,1)}}var hn=function(){function e(r){this.initialTeardown=r,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){var r,t,n,o,i;if(!this.closed){this.closed=!0;var c=this._parentage;if(c)if(this._parentage=null,Array.isArray(c))try{for(var u=hr(c),h=u.next();!h.done;h=u.next()){var f=h.value;f.remove(this)}}catch(R){r={error:R}}finally{try{h&&!h.done&&(t=u.return)&&t.call(u)}finally{if(r)throw r.error}}else c.remove(this);var v=this.initialTeardown;if(re(v))try{v()}catch(R){i=R instanceof Et?R.errors:[R]}var E=this._finalizers;if(E){this._finalizers=null;try{for(var b=hr(E),_=b.next();!_.done;_=b.next()){var N=_.value;try{bi(N)}catch(R){i=i!=null?i:[],R instanceof Et?i=Gr(Gr([],Mr(i)),Mr(R.errors)):i.push(R)}}}catch(R){n={error:R}}finally{try{_&&!_.done&&(o=b.return)&&o.call(b)}finally{if(n)throw n.error}}}if(i)throw new Et(i)}},e.prototype.add=function(r){var t;if(r&&r!==this)if(this.closed)bi(r);else{if(r instanceof e){if(r.closed||r._hasParent(this))return;r._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(r)}},e.prototype._hasParent=function(r){var t=this._parentage;return t===r||Array.isArray(t)&&t.includes(r)},e.prototype._addParent=function(r){var t=this._parentage;this._parentage=Array.isArray(t)?(t.push(r),t):t?[t,r]:r},e.prototype._removeParent=function(r){var t=this._parentage;t===r?this._parentage=null:Array.isArray(t)&&mi(t,r)},e.prototype.remove=function(r){var t=this._finalizers;t&&mi(t,r),r instanceof e&&r._removeParent(this)},e.EMPTY=function(){var r=new e;return r.closed=!0,r}(),e}();hn.EMPTY;function Bo(e){return e instanceof hn||e&&"closed"in e&&re(e.remove)&&re(e.add)&&re(e.unsubscribe)}function bi(e){re(e)?e():e.unsubscribe()}var Fo={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},kt={setTimeout:function(e,r){for(var t=[],n=2;n<arguments.length;n++)t[n-2]=arguments[n];var o=kt.delegate;return o!=null&&o.setTimeout?o.setTimeout.apply(o,Gr([e,r],Mr(t))):setTimeout.apply(void 0,Gr([e,r],Mr(t)))},clearTimeout:function(e){var r=kt.delegate;return((r==null?void 0:r.clearTimeout)||clearTimeout)(e)},delegate:void 0};function Uo(e){kt.setTimeout(function(){throw e})}function _i(){}function Wv(e){e()}var pn=function(e){fn(r,e);function r(t){var n=e.call(this)||this;return n.isStopped=!1,t?(n.destination=t,Bo(t)&&t.add(n)):n.destination=ey,n}return r.create=function(t,n,o){return new Ht(t,n,o)},r.prototype.next=function(t){this.isStopped||this._next(t)},r.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},r.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},r.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,e.prototype.unsubscribe.call(this),this.destination=null)},r.prototype._next=function(t){this.destination.next(t)},r.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},r.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},r}(hn),Jv=Function.prototype.bind;function mt(e,r){return Jv.call(e,r)}var Zv=function(){function e(r){this.partialObserver=r}return e.prototype.next=function(r){var t=this.partialObserver;if(t.next)try{t.next(r)}catch(n){wr(n)}},e.prototype.error=function(r){var t=this.partialObserver;if(t.error)try{t.error(r)}catch(n){wr(n)}else wr(r)},e.prototype.complete=function(){var r=this.partialObserver;if(r.complete)try{r.complete()}catch(t){wr(t)}},e}(),Ht=function(e){fn(r,e);function r(t,n,o){var i=e.call(this)||this,c;if(re(t)||!t)c={next:t!=null?t:void 0,error:n!=null?n:void 0,complete:o!=null?o:void 0};else{var u;i&&Fo.useDeprecatedNextContext?(u=Object.create(t),u.unsubscribe=function(){return i.unsubscribe()},c={next:t.next&&mt(t.next,u),error:t.error&&mt(t.error,u),complete:t.complete&&mt(t.complete,u)}):c=t}return i.destination=new Zv(c),i}return r}(pn);function wr(e){Uo(e)}function Qv(e){throw e}var ey={closed:!0,next:_i,error:Qv,complete:_i},dn=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();function ry(e){return e}function ty(e){return e.length===0?ry:e.length===1?e[0]:function(t){return e.reduce(function(n,o){return o(n)},t)}}var ge=function(){function e(r){r&&(this._subscribe=r)}return e.prototype.lift=function(r){var t=new e;return t.source=this,t.operator=r,t},e.prototype.subscribe=function(r,t,n){var o=this,i=iy(r)?r:new Ht(r,t,n);return Wv(function(){var c=o,u=c.operator,h=c.source;i.add(u?u.call(i,h):h?o._subscribe(i):o._trySubscribe(i))}),i},e.prototype._trySubscribe=function(r){try{return this._subscribe(r)}catch(t){r.error(t)}},e.prototype.forEach=function(r,t){var n=this;return t=wi(t),new t(function(o,i){var c=new Ht({next:function(u){try{r(u)}catch(h){i(h),c.unsubscribe()}},error:i,complete:o});n.subscribe(c)})},e.prototype._subscribe=function(r){var t;return(t=this.source)===null||t===void 0?void 0:t.subscribe(r)},e.prototype[dn]=function(){return this},e.prototype.pipe=function(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];return ty(r)(this)},e.prototype.toPromise=function(r){var t=this;return r=wi(r),new r(function(n,o){var i;t.subscribe(function(c){return i=c},function(c){return o(c)},function(){return n(i)})})},e.create=function(r){return new e(r)},e}();function wi(e){var r;return(r=e!=null?e:Fo.Promise)!==null&&r!==void 0?r:Promise}function ny(e){return e&&re(e.next)&&re(e.error)&&re(e.complete)}function iy(e){return e&&e instanceof pn||ny(e)&&Bo(e)}function oy(e){return re(e==null?void 0:e.lift)}function vn(e){return function(r){if(oy(r))return r.lift(function(t){try{return e(t,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function Vt(e,r,t,n,o){return new sy(e,r,t,n,o)}var sy=function(e){fn(r,e);function r(t,n,o,i,c,u){var h=e.call(this,t)||this;return h.onFinalize=c,h.shouldUnsubscribe=u,h._next=n?function(f){try{n(f)}catch(v){t.error(v)}}:e.prototype._next,h._error=i?function(f){try{i(f)}catch(v){t.error(v)}finally{this.unsubscribe()}}:e.prototype._error,h._complete=o?function(){try{o()}catch(f){t.error(f)}finally{this.unsubscribe()}}:e.prototype._complete,h}return r.prototype.unsubscribe=function(){var t;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;e.prototype.unsubscribe.call(this),!n&&((t=this.onFinalize)===null||t===void 0||t.call(this))}},r}(pn);function ay(e){return e&&re(e.schedule)}function cy(e){return e[e.length-1]}function uy(e){return ay(cy(e))?e.pop():void 0}var Mo=function(e){return e&&typeof e.length=="number"&&typeof e!="function"};function Go(e){return re(e==null?void 0:e.then)}function jo(e){return re(e[dn])}function ko(e){return Symbol.asyncIterator&&re(e==null?void 0:e[Symbol.asyncIterator])}function Ho(e){return new TypeError("You provided "+(e!==null&&typeof e=="object"?"an invalid object":"'"+e+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}function ly(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vo=ly();function Xo(e){return re(e==null?void 0:e[Vo])}function Ko(e){return qv(this,arguments,function(){var t,n,o,i;return Do(this,function(c){switch(c.label){case 0:t=e.getReader(),c.label=1;case 1:c.trys.push([1,,9,10]),c.label=2;case 2:return[4,We(t.read())];case 3:return n=c.sent(),o=n.value,i=n.done,i?[4,We(void 0)]:[3,5];case 4:return[2,c.sent()];case 5:return[4,We(o)];case 6:return[4,c.sent()];case 7:return c.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}})})}function qo(e){return re(e==null?void 0:e.getReader)}function rt(e){if(e instanceof ge)return e;if(e!=null){if(jo(e))return fy(e);if(Mo(e))return hy(e);if(Go(e))return py(e);if(ko(e))return Yo(e);if(Xo(e))return dy(e);if(qo(e))return vy(e)}throw Ho(e)}function fy(e){return new ge(function(r){var t=e[dn]();if(re(t.subscribe))return t.subscribe(r);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function hy(e){return new ge(function(r){for(var t=0;t<e.length&&!r.closed;t++)r.next(e[t]);r.complete()})}function py(e){return new ge(function(r){e.then(function(t){r.closed||(r.next(t),r.complete())},function(t){return r.error(t)}).then(null,Uo)})}function dy(e){return new ge(function(r){var t,n;try{for(var o=hr(e),i=o.next();!i.done;i=o.next()){var c=i.value;if(r.next(c),r.closed)return}}catch(u){t={error:u}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}r.complete()})}function Yo(e){return new ge(function(r){yy(e,r).catch(function(t){return r.error(t)})})}function vy(e){return Yo(Ko(e))}function yy(e,r){var t,n,o,i;return Kv(this,void 0,void 0,function(){var c,u;return Do(this,function(h){switch(h.label){case 0:h.trys.push([0,5,6,11]),t=Yv(e),h.label=1;case 1:return[4,t.next()];case 2:if(n=h.sent(),!!n.done)return[3,4];if(c=n.value,r.next(c),r.closed)return[2];h.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return u=h.sent(),o={error:u},[3,11];case 6:return h.trys.push([6,,9,10]),n&&!n.done&&(i=t.return)?[4,i.call(t)]:[3,8];case 7:h.sent(),h.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return r.complete(),[2]}})})}function je(e,r,t,n,o){n===void 0&&(n=0),o===void 0&&(o=!1);var i=r.schedule(function(){t(),o?e.add(this.schedule(null,n)):this.unsubscribe()},n);if(e.add(i),!o)return i}function zo(e,r){return r===void 0&&(r=0),vn(function(t,n){t.subscribe(Vt(n,function(o){return je(n,e,function(){return n.next(o)},r)},function(){return je(n,e,function(){return n.complete()},r)},function(o){return je(n,e,function(){return n.error(o)},r)}))})}function Wo(e,r){return r===void 0&&(r=0),vn(function(t,n){n.add(e.schedule(function(){return t.subscribe(n)},r))})}function gy(e,r){return rt(e).pipe(Wo(r),zo(r))}function Ey(e,r){return rt(e).pipe(Wo(r),zo(r))}function my(e,r){return new ge(function(t){var n=0;return r.schedule(function(){n===e.length?t.complete():(t.next(e[n++]),t.closed||this.schedule())})})}function by(e,r){return new ge(function(t){var n;return je(t,r,function(){n=e[Vo](),je(t,r,function(){var o,i,c;try{o=n.next(),i=o.value,c=o.done}catch(u){t.error(u);return}c?t.complete():t.next(i)},0,!0)}),function(){return re(n==null?void 0:n.return)&&n.return()}})}function Jo(e,r){if(!e)throw new Error("Iterable cannot be null");return new ge(function(t){je(t,r,function(){var n=e[Symbol.asyncIterator]();je(t,r,function(){n.next().then(function(o){o.done?t.complete():t.next(o.value)})},0,!0)})})}function _y(e,r){return Jo(Ko(e),r)}function wy(e,r){if(e!=null){if(jo(e))return gy(e,r);if(Mo(e))return my(e,r);if(Go(e))return Ey(e,r);if(ko(e))return Jo(e,r);if(Xo(e))return by(e,r);if(qo(e))return _y(e,r)}throw Ho(e)}function Ay(e,r){return r?wy(e,r):rt(e)}function Iy(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var t=uy(e);return Ay(e,t)}function Sy(e,r){return vn(function(t,n){var o=null,i=0,c=!1,u=function(){return c&&!o&&n.complete()};t.subscribe(Vt(n,function(h){o==null||o.unsubscribe();var f=0,v=i++;rt(e(h,v)).subscribe(o=Vt(n,function(E){return n.next(r?r(h,E,v,f++):E)},function(){o=null,u()}))},function(){c=!0,u()}))})}function Ty(e){var r=e.event;switch(r.type){case"error":{var t=r.error,n=t.name,o=t.message;return t instanceof Yr?{lockedDevice:!0}:{error:{type:"SharedError",message:"".concat(n,": ").concat(o)}}}default:return{}}}var xy={lockedDevice:!1,error:null},Le={exports:{}};const Oy="2.0.0",Ry=256,Ny=Number.MAX_SAFE_INTEGER||9007199254740991,$y=16;var tt={SEMVER_SPEC_VERSION:Oy,MAX_LENGTH:Ry,MAX_SAFE_INTEGER:Ny,MAX_SAFE_COMPONENT_LENGTH:$y};const Py=typeof process=="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};var nt=Py;(function(e,r){const{MAX_SAFE_COMPONENT_LENGTH:t}=tt,n=nt;r=e.exports={};const o=r.re=[],i=r.src=[],c=r.t={};let u=0;const h=(f,v,E)=>{const b=u++;n(f,b,v),c[f]=b,i[b]=v,o[b]=new RegExp(v,E?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})\\.(${i[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})\\.(${i[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${i[c.NUMERICIDENTIFIER]}|${i[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${i[c.NUMERICIDENTIFIERLOOSE]}|${i[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${i[c.PRERELEASEIDENTIFIER]}(?:\\.${i[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${i[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${i[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${i[c.BUILDIDENTIFIER]}(?:\\.${i[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${i[c.MAINVERSION]}${i[c.PRERELEASE]}?${i[c.BUILD]}?`),h("FULL",`^${i[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${i[c.MAINVERSIONLOOSE]}${i[c.PRERELEASELOOSE]}?${i[c.BUILD]}?`),h("LOOSE",`^${i[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${i[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${i[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:\\.(${i[c.XRANGEIDENTIFIER]})(?:${i[c.PRERELEASE]})?${i[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${i[c.XRANGEIDENTIFIERLOOSE]})(?:${i[c.PRERELEASELOOSE]})?${i[c.BUILD]}?)?)?`),h("XRANGE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${i[c.GTLT]}\\s*${i[c.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${t}})(?:\\.(\\d{1,${t}}))?(?:\\.(\\d{1,${t}}))?(?:$|[^\\d])`),h("COERCERTL",i[c.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${i[c.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",h("TILDE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${i[c.LONETILDE]}${i[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${i[c.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",h("CARET",`^${i[c.LONECARET]}${i[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${i[c.LONECARET]}${i[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${i[c.GTLT]}\\s*(${i[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${i[c.GTLT]}\\s*(${i[c.LOOSEPLAIN]}|${i[c.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${i[c.XRANGEPLAIN]})\\s+-\\s+(${i[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${i[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${i[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")})(Le,Le.exports);const Ly=["includePrerelease","loose","rtl"],Cy=e=>e?typeof e!="object"?{loose:!0}:Ly.filter(r=>e[r]).reduce((r,t)=>(r[t]=!0,r),{}):{};var it=Cy;const Ai=/^[0-9]+$/,Zo=(e,r)=>{const t=Ai.test(e),n=Ai.test(r);return t&&n&&(e=+e,r=+r),e===r?0:t&&!n?-1:n&&!t?1:e<r?-1:1},Dy=(e,r)=>Zo(r,e);var Xt={compareIdentifiers:Zo,rcompareIdentifiers:Dy};const Ar=nt,{MAX_LENGTH:Ii,MAX_SAFE_INTEGER:Ir}=tt,{re:Si,t:Ti}=Le.exports,By=it,{compareIdentifiers:qe}=Xt;class ue{constructor(r,t){if(t=By(t),r instanceof ue){if(r.loose===!!t.loose&&r.includePrerelease===!!t.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid Version: ${r}`);if(r.length>Ii)throw new TypeError(`version is longer than ${Ii} characters`);Ar("SemVer",r,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=r.trim().match(t.loose?Si[Ti.LOOSE]:Si[Ti.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>Ir||this.major<0)throw new TypeError("Invalid major version");if(this.minor>Ir||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>Ir||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(o=>{if(/^[0-9]+$/.test(o)){const i=+o;if(i>=0&&i<Ir)return i}return o}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(Ar("SemVer.compare",this.version,this.options,r),!(r instanceof ue)){if(typeof r=="string"&&r===this.version)return 0;r=new ue(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof ue||(r=new ue(r,this.options)),qe(this.major,r.major)||qe(this.minor,r.minor)||qe(this.patch,r.patch)}comparePre(r){if(r instanceof ue||(r=new ue(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=r.prerelease[t];if(Ar("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return qe(n,o)}while(++t)}compareBuild(r){r instanceof ue||(r=new ue(r,this.options));let t=0;do{const n=this.build[t],o=r.build[t];if(Ar("prerelease compare",t,n,o),n===void 0&&o===void 0)return 0;if(o===void 0)return 1;if(n===void 0)return-1;if(n===o)continue;return qe(n,o)}while(++t)}inc(r,t){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",t),this.inc("pre",t);break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}t&&(qe(this.prerelease[0],t)===0?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}}var ne=ue;const{MAX_LENGTH:Fy}=tt,{re:xi,t:Oi}=Le.exports,Ri=ne,Uy=it,My=(e,r)=>{if(r=Uy(r),e instanceof Ri)return e;if(typeof e!="string"||e.length>Fy||!(r.loose?xi[Oi.LOOSE]:xi[Oi.FULL]).test(e))return null;try{return new Ri(e,r)}catch{return null}};var ir=My;const Gy=ir,jy=(e,r)=>{const t=Gy(e,r);return t?t.version:null};var ky=jy;const Hy=ir,Vy=(e,r)=>{const t=Hy(e.trim().replace(/^[=v]+/,""),r);return t?t.version:null};var Xy=Vy;const Ni=ne,Ky=(e,r,t,n)=>{typeof t=="string"&&(n=t,t=void 0);try{return new Ni(e instanceof Ni?e.version:e,t).inc(r,n).version}catch{return null}};var qy=Ky;const $i=ne,Yy=(e,r,t)=>new $i(e,t).compare(new $i(r,t));var pe=Yy;const zy=pe,Wy=(e,r,t)=>zy(e,r,t)===0;var yn=Wy;const Pi=ir,Jy=yn,Zy=(e,r)=>{if(Jy(e,r))return null;{const t=Pi(e),n=Pi(r),o=t.prerelease.length||n.prerelease.length,i=o?"pre":"",c=o?"prerelease":"";for(const u in t)if((u==="major"||u==="minor"||u==="patch")&&t[u]!==n[u])return i+u;return c}};var Qy=Zy;const eg=ne,rg=(e,r)=>new eg(e,r).major;var tg=rg;const ng=ne,ig=(e,r)=>new ng(e,r).minor;var og=ig;const sg=ne,ag=(e,r)=>new sg(e,r).patch;var cg=ag;const ug=ir,lg=(e,r)=>{const t=ug(e,r);return t&&t.prerelease.length?t.prerelease:null};var fg=lg;const hg=pe,pg=(e,r,t)=>hg(r,e,t);var dg=pg;const vg=pe,yg=(e,r)=>vg(e,r,!0);var gg=yg;const Li=ne,Eg=(e,r,t)=>{const n=new Li(e,t),o=new Li(r,t);return n.compare(o)||n.compareBuild(o)};var gn=Eg;const mg=gn,bg=(e,r)=>e.sort((t,n)=>mg(t,n,r));var _g=bg;const wg=gn,Ag=(e,r)=>e.sort((t,n)=>wg(n,t,r));var Ig=Ag;const Sg=pe,Tg=(e,r,t)=>Sg(e,r,t)>0;var ot=Tg;const xg=pe,Og=(e,r,t)=>xg(e,r,t)<0;var En=Og;const Rg=pe,Ng=(e,r,t)=>Rg(e,r,t)!==0;var Qo=Ng;const $g=pe,Pg=(e,r,t)=>$g(e,r,t)>=0;var mn=Pg;const Lg=pe,Cg=(e,r,t)=>Lg(e,r,t)<=0;var bn=Cg;const Dg=yn,Bg=Qo,Fg=ot,Ug=mn,Mg=En,Gg=bn,jg=(e,r,t,n)=>{switch(r){case"===":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e===t;case"!==":return typeof e=="object"&&(e=e.version),typeof t=="object"&&(t=t.version),e!==t;case"":case"=":case"==":return Dg(e,t,n);case"!=":return Bg(e,t,n);case">":return Fg(e,t,n);case">=":return Ug(e,t,n);case"<":return Mg(e,t,n);case"<=":return Gg(e,t,n);default:throw new TypeError(`Invalid operator: ${r}`)}};var es=jg;const kg=ne,Hg=ir,{re:Sr,t:Tr}=Le.exports,Vg=(e,r)=>{if(e instanceof kg)return e;if(typeof e=="number"&&(e=String(e)),typeof e!="string")return null;r=r||{};let t=null;if(!r.rtl)t=e.match(Sr[Tr.COERCE]);else{let n;for(;(n=Sr[Tr.COERCERTL].exec(e))&&(!t||t.index+t[0].length!==e.length);)(!t||n.index+n[0].length!==t.index+t[0].length)&&(t=n),Sr[Tr.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;Sr[Tr.COERCERTL].lastIndex=-1}return t===null?null:Hg(`${t[2]}.${t[3]||"0"}.${t[4]||"0"}`,r)};var Xg=Vg,bt,Ci;function Kg(){return Ci||(Ci=1,bt=function(e){e.prototype[Symbol.iterator]=function*(){for(let r=this.head;r;r=r.next)yield r.value}}),bt}var qg=U;U.Node=ke;U.create=U;function U(e){var r=this;if(r instanceof U||(r=new U),r.tail=null,r.head=null,r.length=0,e&&typeof e.forEach=="function")e.forEach(function(o){r.push(o)});else if(arguments.length>0)for(var t=0,n=arguments.length;t<n;t++)r.push(arguments[t]);return r}U.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var r=e.next,t=e.prev;return r&&(r.prev=t),t&&(t.next=r),e===this.head&&(this.head=r),e===this.tail&&(this.tail=t),e.list.length--,e.next=null,e.prev=null,e.list=null,r};U.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var r=this.head;e.list=this,e.next=r,r&&(r.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}};U.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var r=this.tail;e.list=this,e.prev=r,r&&(r.next=e),this.tail=e,this.head||(this.head=e),this.length++}};U.prototype.push=function(){for(var e=0,r=arguments.length;e<r;e++)zg(this,arguments[e]);return this.length};U.prototype.unshift=function(){for(var e=0,r=arguments.length;e<r;e++)Wg(this,arguments[e]);return this.length};U.prototype.pop=function(){if(!!this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}};U.prototype.shift=function(){if(!!this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}};U.prototype.forEach=function(e,r){r=r||this;for(var t=this.head,n=0;t!==null;n++)e.call(r,t.value,n,this),t=t.next};U.prototype.forEachReverse=function(e,r){r=r||this;for(var t=this.tail,n=this.length-1;t!==null;n--)e.call(r,t.value,n,this),t=t.prev};U.prototype.get=function(e){for(var r=0,t=this.head;t!==null&&r<e;r++)t=t.next;if(r===e&&t!==null)return t.value};U.prototype.getReverse=function(e){for(var r=0,t=this.tail;t!==null&&r<e;r++)t=t.prev;if(r===e&&t!==null)return t.value};U.prototype.map=function(e,r){r=r||this;for(var t=new U,n=this.head;n!==null;)t.push(e.call(r,n.value,this)),n=n.next;return t};U.prototype.mapReverse=function(e,r){r=r||this;for(var t=new U,n=this.tail;n!==null;)t.push(e.call(r,n.value,this)),n=n.prev;return t};U.prototype.reduce=function(e,r){var t,n=this.head;if(arguments.length>1)t=r;else if(this.head)n=this.head.next,t=this.head.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=0;n!==null;o++)t=e(t,n.value,o),n=n.next;return t};U.prototype.reduceReverse=function(e,r){var t,n=this.tail;if(arguments.length>1)t=r;else if(this.tail)n=this.tail.prev,t=this.tail.value;else throw new TypeError("Reduce of empty list with no initial value");for(var o=this.length-1;n!==null;o--)t=e(t,n.value,o),n=n.prev;return t};U.prototype.toArray=function(){for(var e=new Array(this.length),r=0,t=this.head;t!==null;r++)e[r]=t.value,t=t.next;return e};U.prototype.toArrayReverse=function(){for(var e=new Array(this.length),r=0,t=this.tail;t!==null;r++)e[r]=t.value,t=t.prev;return e};U.prototype.slice=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new U;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(;o!==null&&n<r;n++,o=o.next)t.push(o.value);return t};U.prototype.sliceReverse=function(e,r){r=r||this.length,r<0&&(r+=this.length),e=e||0,e<0&&(e+=this.length);var t=new U;if(r<e||r<0)return t;e<0&&(e=0),r>this.length&&(r=this.length);for(var n=this.length,o=this.tail;o!==null&&n>r;n--)o=o.prev;for(;o!==null&&n>e;n--,o=o.prev)t.push(o.value);return t};U.prototype.splice=function(e,r,...t){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var n=0,o=this.head;o!==null&&n<e;n++)o=o.next;for(var i=[],n=0;o&&n<r;n++)i.push(o.value),o=this.removeNode(o);o===null&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev);for(var n=0;n<t.length;n++)o=Yg(this,o,t[n]);return i};U.prototype.reverse=function(){for(var e=this.head,r=this.tail,t=e;t!==null;t=t.prev){var n=t.prev;t.prev=t.next,t.next=n}return this.head=r,this.tail=e,this};function Yg(e,r,t){var n=r===e.head?new ke(t,null,r,e):new ke(t,r,r.next,e);return n.next===null&&(e.tail=n),n.prev===null&&(e.head=n),e.length++,n}function zg(e,r){e.tail=new ke(r,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function Wg(e,r){e.head=new ke(r,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function ke(e,r,t,n){if(!(this instanceof ke))return new ke(e,r,t,n);this.list=n,this.value=e,r?(r.next=this,this.prev=r):this.prev=null,t?(t.prev=this,this.next=t):this.next=null}try{Kg()(U)}catch{}const Jg=qg,Me=Symbol("max"),we=Symbol("length"),Ye=Symbol("lengthCalculator"),fr=Symbol("allowStale"),Ge=Symbol("maxAge"),_e=Symbol("dispose"),Di=Symbol("noDisposeOnSet"),Q=Symbol("lruList"),le=Symbol("cache"),rs=Symbol("updateAgeOnGet"),_t=()=>1;class Zg{constructor(r){if(typeof r=="number"&&(r={max:r}),r||(r={}),r.max&&(typeof r.max!="number"||r.max<0))throw new TypeError("max must be a non-negative number");this[Me]=r.max||1/0;const t=r.length||_t;if(this[Ye]=typeof t!="function"?_t:t,this[fr]=r.stale||!1,r.maxAge&&typeof r.maxAge!="number")throw new TypeError("maxAge must be a number");this[Ge]=r.maxAge||0,this[_e]=r.dispose,this[Di]=r.noDisposeOnSet||!1,this[rs]=r.updateAgeOnGet||!1,this.reset()}set max(r){if(typeof r!="number"||r<0)throw new TypeError("max must be a non-negative number");this[Me]=r||1/0,cr(this)}get max(){return this[Me]}set allowStale(r){this[fr]=!!r}get allowStale(){return this[fr]}set maxAge(r){if(typeof r!="number")throw new TypeError("maxAge must be a non-negative number");this[Ge]=r,cr(this)}get maxAge(){return this[Ge]}set lengthCalculator(r){typeof r!="function"&&(r=_t),r!==this[Ye]&&(this[Ye]=r,this[we]=0,this[Q].forEach(t=>{t.length=this[Ye](t.value,t.key),this[we]+=t.length})),cr(this)}get lengthCalculator(){return this[Ye]}get length(){return this[we]}get itemCount(){return this[Q].length}rforEach(r,t){t=t||this;for(let n=this[Q].tail;n!==null;){const o=n.prev;Bi(this,r,n,t),n=o}}forEach(r,t){t=t||this;for(let n=this[Q].head;n!==null;){const o=n.next;Bi(this,r,n,t),n=o}}keys(){return this[Q].toArray().map(r=>r.key)}values(){return this[Q].toArray().map(r=>r.value)}reset(){this[_e]&&this[Q]&&this[Q].length&&this[Q].forEach(r=>this[_e](r.key,r.value)),this[le]=new Map,this[Q]=new Jg,this[we]=0}dump(){return this[Q].map(r=>jr(this,r)?!1:{k:r.key,v:r.value,e:r.now+(r.maxAge||0)}).toArray().filter(r=>r)}dumpLru(){return this[Q]}set(r,t,n){if(n=n||this[Ge],n&&typeof n!="number")throw new TypeError("maxAge must be a number");const o=n?Date.now():0,i=this[Ye](t,r);if(this[le].has(r)){if(i>this[Me])return Je(this,this[le].get(r)),!1;const h=this[le].get(r).value;return this[_e]&&(this[Di]||this[_e](r,h.value)),h.now=o,h.maxAge=n,h.value=t,this[we]+=i-h.length,h.length=i,this.get(r),cr(this),!0}const c=new Qg(r,t,i,o,n);return c.length>this[Me]?(this[_e]&&this[_e](r,t),!1):(this[we]+=c.length,this[Q].unshift(c),this[le].set(r,this[Q].head),cr(this),!0)}has(r){if(!this[le].has(r))return!1;const t=this[le].get(r).value;return!jr(this,t)}get(r){return wt(this,r,!0)}peek(r){return wt(this,r,!1)}pop(){const r=this[Q].tail;return r?(Je(this,r),r.value):null}del(r){Je(this,this[le].get(r))}load(r){this.reset();const t=Date.now();for(let n=r.length-1;n>=0;n--){const o=r[n],i=o.e||0;if(i===0)this.set(o.k,o.v);else{const c=i-t;c>0&&this.set(o.k,o.v,c)}}}prune(){this[le].forEach((r,t)=>wt(this,t,!1))}}const wt=(e,r,t)=>{const n=e[le].get(r);if(n){const o=n.value;if(jr(e,o)){if(Je(e,n),!e[fr])return}else t&&(e[rs]&&(n.value.now=Date.now()),e[Q].unshiftNode(n));return o.value}},jr=(e,r)=>{if(!r||!r.maxAge&&!e[Ge])return!1;const t=Date.now()-r.now;return r.maxAge?t>r.maxAge:e[Ge]&&t>e[Ge]},cr=e=>{if(e[we]>e[Me])for(let r=e[Q].tail;e[we]>e[Me]&&r!==null;){const t=r.prev;Je(e,r),r=t}},Je=(e,r)=>{if(r){const t=r.value;e[_e]&&e[_e](t.key,t.value),e[we]-=t.length,e[le].delete(t.key),e[Q].removeNode(r)}};class Qg{constructor(r,t,n,o,i){this.key=r,this.value=t,this.length=n,this.now=o,this.maxAge=i||0}}const Bi=(e,r,t,n)=>{let o=t.value;jr(e,o)&&(Je(e,t),e[fr]||(o=void 0)),o&&r.call(n,o.value,o.key,e)};var eE=Zg,At,Fi;function de(){if(Fi)return At;Fi=1;class e{constructor(w,O){if(O=n(O),w instanceof e)return w.loose===!!O.loose&&w.includePrerelease===!!O.includePrerelease?w:new e(w.raw,O);if(w instanceof o)return this.raw=w.value,this.set=[[w]],this.format(),this;if(this.options=O,this.loose=!!O.loose,this.includePrerelease=!!O.includePrerelease,this.raw=w,this.set=w.split("||").map(S=>this.parseRange(S.trim())).filter(S=>S.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${w}`);if(this.set.length>1){const S=this.set[0];if(this.set=this.set.filter(x=>!b(x[0])),this.set.length===0)this.set=[S];else if(this.set.length>1){for(const x of this.set)if(x.length===1&&_(x[0])){this.set=[x];break}}}this.format()}format(){return this.range=this.set.map(w=>w.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(w){w=w.trim();const S=`parseRange:${Object.keys(this.options).join(",")}:${w}`,x=t.get(S);if(x)return x;const T=this.options.loose,$=T?u[h.HYPHENRANGELOOSE]:u[h.HYPHENRANGE];w=w.replace($,be(this.options.includePrerelease)),i("hyphen replace",w),w=w.replace(u[h.COMPARATORTRIM],f),i("comparator trim",w),w=w.replace(u[h.TILDETRIM],v),w=w.replace(u[h.CARETTRIM],E),w=w.split(/\s+/).join(" ");let M=w.split(" ").map(D=>R(D,this.options)).join(" ").split(/\s+/).map(D=>Be(D,this.options));T&&(M=M.filter(D=>(i("loose invalid filter",D,this.options),!!D.match(u[h.COMPARATORLOOSE])))),i("range list",M);const P=new Map,V=M.map(D=>new o(D,this.options));for(const D of V){if(b(D))return[D];P.set(D.value,D)}P.size>1&&P.has("")&&P.delete("");const F=[...P.values()];return t.set(S,F),F}intersects(w,O){if(!(w instanceof e))throw new TypeError("a Range is required");return this.set.some(S=>N(S,O)&&w.set.some(x=>N(x,O)&&S.every(T=>x.every($=>T.intersects($,O)))))}test(w){if(!w)return!1;if(typeof w=="string")try{w=new c(w,this.options)}catch{return!1}for(let O=0;O<this.set.length;O++)if(se(this.set[O],w,this.options))return!0;return!1}}At=e;const r=eE,t=new r({max:1e3}),n=it,o=st(),i=nt,c=ne,{re:u,t:h,comparatorTrimReplace:f,tildeTrimReplace:v,caretTrimReplace:E}=Le.exports,b=A=>A.value==="<0.0.0-0",_=A=>A.value==="",N=(A,w)=>{let O=!0;const S=A.slice();let x=S.pop();for(;O&&S.length;)O=S.every(T=>x.intersects(T,w)),x=S.pop();return O},R=(A,w)=>(i("comp",A,w),A=ie(A,w),i("caret",A),A=k(A,w),i("tildes",A),A=z(A,w),i("xrange",A),A=me(A,w),i("stars",A),A),C=A=>!A||A.toLowerCase()==="x"||A==="*",k=(A,w)=>A.trim().split(/\s+/).map(O=>J(O,w)).join(" "),J=(A,w)=>{const O=w.loose?u[h.TILDELOOSE]:u[h.TILDE];return A.replace(O,(S,x,T,$,M)=>{i("tilde",A,S,x,T,$,M);let P;return C(x)?P="":C(T)?P=`>=${x}.0.0 <${+x+1}.0.0-0`:C($)?P=`>=${x}.${T}.0 <${x}.${+T+1}.0-0`:M?(i("replaceTilde pr",M),P=`>=${x}.${T}.${$}-${M} <${x}.${+T+1}.0-0`):P=`>=${x}.${T}.${$} <${x}.${+T+1}.0-0`,i("tilde return",P),P})},ie=(A,w)=>A.trim().split(/\s+/).map(O=>oe(O,w)).join(" "),oe=(A,w)=>{i("caret",A,w);const O=w.loose?u[h.CARETLOOSE]:u[h.CARET],S=w.includePrerelease?"-0":"";return A.replace(O,(x,T,$,M,P)=>{i("caret",A,x,T,$,M,P);let V;return C(T)?V="":C($)?V=`>=${T}.0.0${S} <${+T+1}.0.0-0`:C(M)?T==="0"?V=`>=${T}.${$}.0${S} <${T}.${+$+1}.0-0`:V=`>=${T}.${$}.0${S} <${+T+1}.0.0-0`:P?(i("replaceCaret pr",P),T==="0"?$==="0"?V=`>=${T}.${$}.${M}-${P} <${T}.${$}.${+M+1}-0`:V=`>=${T}.${$}.${M}-${P} <${T}.${+$+1}.0-0`:V=`>=${T}.${$}.${M}-${P} <${+T+1}.0.0-0`):(i("no pr"),T==="0"?$==="0"?V=`>=${T}.${$}.${M}${S} <${T}.${$}.${+M+1}-0`:V=`>=${T}.${$}.${M}${S} <${T}.${+$+1}.0-0`:V=`>=${T}.${$}.${M} <${+T+1}.0.0-0`),i("caret return",V),V})},z=(A,w)=>(i("replaceXRanges",A,w),A.split(/\s+/).map(O=>Ee(O,w)).join(" ")),Ee=(A,w)=>{A=A.trim();const O=w.loose?u[h.XRANGELOOSE]:u[h.XRANGE];return A.replace(O,(S,x,T,$,M,P)=>{i("xRange",A,S,x,T,$,M,P);const V=C(T),F=V||C($),D=F||C(M),xe=D;return x==="="&&xe&&(x=""),P=w.includePrerelease?"-0":"",V?x===">"||x==="<"?S="<0.0.0-0":S="*":x&&xe?(F&&($=0),M=0,x===">"?(x=">=",F?(T=+T+1,$=0,M=0):($=+$+1,M=0)):x==="<="&&(x="<",F?T=+T+1:$=+$+1),x==="<"&&(P="-0"),S=`${x+T}.${$}.${M}${P}`):F?S=`>=${T}.0.0${P} <${+T+1}.0.0-0`:D&&(S=`>=${T}.${$}.0${P} <${T}.${+$+1}.0-0`),i("xRange return",S),S})},me=(A,w)=>(i("replaceStars",A,w),A.trim().replace(u[h.STAR],"")),Be=(A,w)=>(i("replaceGTE0",A,w),A.trim().replace(u[w.includePrerelease?h.GTE0PRE:h.GTE0],"")),be=A=>(w,O,S,x,T,$,M,P,V,F,D,xe,ut)=>(C(S)?O="":C(x)?O=`>=${S}.0.0${A?"-0":""}`:C(T)?O=`>=${S}.${x}.0${A?"-0":""}`:$?O=`>=${O}`:O=`>=${O}${A?"-0":""}`,C(V)?P="":C(F)?P=`<${+V+1}.0.0-0`:C(D)?P=`<${V}.${+F+1}.0-0`:xe?P=`<=${V}.${F}.${D}-${xe}`:A?P=`<${V}.${F}.${+D+1}-0`:P=`<=${P}`,`${O} ${P}`.trim()),se=(A,w,O)=>{for(let S=0;S<A.length;S++)if(!A[S].test(w))return!1;if(w.prerelease.length&&!O.includePrerelease){for(let S=0;S<A.length;S++)if(i(A[S].semver),A[S].semver!==o.ANY&&A[S].semver.prerelease.length>0){const x=A[S].semver;if(x.major===w.major&&x.minor===w.minor&&x.patch===w.patch)return!0}return!1}return!0};return At}var It,Ui;function st(){if(Ui)return It;Ui=1;const e=Symbol("SemVer ANY");class r{static get ANY(){return e}constructor(v,E){if(E=t(E),v instanceof r){if(v.loose===!!E.loose)return v;v=v.value}c("comparator",v,E),this.options=E,this.loose=!!E.loose,this.parse(v),this.semver===e?this.value="":this.value=this.operator+this.semver.version,c("comp",this)}parse(v){const E=this.options.loose?n[o.COMPARATORLOOSE]:n[o.COMPARATOR],b=v.match(E);if(!b)throw new TypeError(`Invalid comparator: ${v}`);this.operator=b[1]!==void 0?b[1]:"",this.operator==="="&&(this.operator=""),b[2]?this.semver=new u(b[2],this.options.loose):this.semver=e}toString(){return this.value}test(v){if(c("Comparator.test",v,this.options.loose),this.semver===e||v===e)return!0;if(typeof v=="string")try{v=new u(v,this.options)}catch{return!1}return i(v,this.operator,this.semver,this.options)}intersects(v,E){if(!(v instanceof r))throw new TypeError("a Comparator is required");if((!E||typeof E!="object")&&(E={loose:!!E,includePrerelease:!1}),this.operator==="")return this.value===""?!0:new h(v.value,E).test(this.value);if(v.operator==="")return v.value===""?!0:new h(this.value,E).test(v.semver);const b=(this.operator===">="||this.operator===">")&&(v.operator===">="||v.operator===">"),_=(this.operator==="<="||this.operator==="<")&&(v.operator==="<="||v.operator==="<"),N=this.semver.version===v.semver.version,R=(this.operator===">="||this.operator==="<=")&&(v.operator===">="||v.operator==="<="),C=i(this.semver,"<",v.semver,E)&&(this.operator===">="||this.operator===">")&&(v.operator==="<="||v.operator==="<"),k=i(this.semver,">",v.semver,E)&&(this.operator==="<="||this.operator==="<")&&(v.operator===">="||v.operator===">");return b||_||N&&R||C||k}}It=r;const t=it,{re:n,t:o}=Le.exports,i=es,c=nt,u=ne,h=de();return It}const rE=de(),tE=(e,r,t)=>{try{r=new rE(r,t)}catch{return!1}return r.test(e)};var at=tE;const nE=de(),iE=(e,r)=>new nE(e,r).set.map(t=>t.map(n=>n.value).join(" ").trim().split(" "));var oE=iE;const sE=ne,aE=de(),cE=(e,r,t)=>{let n=null,o=null,i=null;try{i=new aE(r,t)}catch{return null}return e.forEach(c=>{i.test(c)&&(!n||o.compare(c)===-1)&&(n=c,o=new sE(n,t))}),n};var uE=cE;const lE=ne,fE=de(),hE=(e,r,t)=>{let n=null,o=null,i=null;try{i=new fE(r,t)}catch{return null}return e.forEach(c=>{i.test(c)&&(!n||o.compare(c)===1)&&(n=c,o=new lE(n,t))}),n};var pE=hE;const St=ne,dE=de(),Mi=ot,vE=(e,r)=>{e=new dE(e,r);let t=new St("0.0.0");if(e.test(t)||(t=new St("0.0.0-0"),e.test(t)))return t;t=null;for(let n=0;n<e.set.length;++n){const o=e.set[n];let i=null;o.forEach(c=>{const u=new St(c.semver.version);switch(c.operator){case">":u.prerelease.length===0?u.patch++:u.prerelease.push(0),u.raw=u.format();case"":case">=":(!i||Mi(u,i))&&(i=u);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${c.operator}`)}}),i&&(!t||Mi(t,i))&&(t=i)}return t&&e.test(t)?t:null};var yE=vE;const gE=de(),EE=(e,r)=>{try{return new gE(e,r).range||"*"}catch{return null}};var mE=EE;const bE=ne,ts=st(),{ANY:_E}=ts,wE=de(),AE=at,Gi=ot,ji=En,IE=bn,SE=mn,TE=(e,r,t,n)=>{e=new bE(e,n),r=new wE(r,n);let o,i,c,u,h;switch(t){case">":o=Gi,i=IE,c=ji,u=">",h=">=";break;case"<":o=ji,i=SE,c=Gi,u="<",h="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(AE(e,r,n))return!1;for(let f=0;f<r.set.length;++f){const v=r.set[f];let E=null,b=null;if(v.forEach(_=>{_.semver===_E&&(_=new ts(">=0.0.0")),E=E||_,b=b||_,o(_.semver,E.semver,n)?E=_:c(_.semver,b.semver,n)&&(b=_)}),E.operator===u||E.operator===h||(!b.operator||b.operator===u)&&i(e,b.semver))return!1;if(b.operator===h&&c(e,b.semver))return!1}return!0};var _n=TE;const xE=_n,OE=(e,r,t)=>xE(e,r,">",t);var RE=OE;const NE=_n,$E=(e,r,t)=>NE(e,r,"<",t);var PE=$E;const ki=de(),LE=(e,r,t)=>(e=new ki(e,t),r=new ki(r,t),e.intersects(r));var CE=LE;const DE=at,BE=pe;var FE=(e,r,t)=>{const n=[];let o=null,i=null;const c=e.sort((v,E)=>BE(v,E,t));for(const v of c)DE(v,r,t)?(i=v,o||(o=v)):(i&&n.push([o,i]),i=null,o=null);o&&n.push([o,null]);const u=[];for(const[v,E]of n)v===E?u.push(v):!E&&v===c[0]?u.push("*"):E?v===c[0]?u.push(`<=${E}`):u.push(`${v} - ${E}`):u.push(`>=${v}`);const h=u.join(" || "),f=typeof r.raw=="string"?r.raw:String(r);return h.length<f.length?h:r};const Hi=de(),Pr=st(),{ANY:Tt}=Pr,ur=at,wn=pe,UE=(e,r,t={})=>{if(e===r)return!0;e=new Hi(e,t),r=new Hi(r,t);let n=!1;e:for(const o of e.set){for(const i of r.set){const c=ME(o,i,t);if(n=n||c!==null,c)continue e}if(n)return!1}return!0},ME=(e,r,t)=>{if(e===r)return!0;if(e.length===1&&e[0].semver===Tt){if(r.length===1&&r[0].semver===Tt)return!0;t.includePrerelease?e=[new Pr(">=0.0.0-0")]:e=[new Pr(">=0.0.0")]}if(r.length===1&&r[0].semver===Tt){if(t.includePrerelease)return!0;r=[new Pr(">=0.0.0")]}const n=new Set;let o,i;for(const _ of e)_.operator===">"||_.operator===">="?o=Vi(o,_,t):_.operator==="<"||_.operator==="<="?i=Xi(i,_,t):n.add(_.semver);if(n.size>1)return null;let c;if(o&&i){if(c=wn(o.semver,i.semver,t),c>0)return null;if(c===0&&(o.operator!==">="||i.operator!=="<="))return null}for(const _ of n){if(o&&!ur(_,String(o),t)||i&&!ur(_,String(i),t))return null;for(const N of r)if(!ur(_,String(N),t))return!1;return!0}let u,h,f,v,E=i&&!t.includePrerelease&&i.semver.prerelease.length?i.semver:!1,b=o&&!t.includePrerelease&&o.semver.prerelease.length?o.semver:!1;E&&E.prerelease.length===1&&i.operator==="<"&&E.prerelease[0]===0&&(E=!1);for(const _ of r){if(v=v||_.operator===">"||_.operator===">=",f=f||_.operator==="<"||_.operator==="<=",o){if(b&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===b.major&&_.semver.minor===b.minor&&_.semver.patch===b.patch&&(b=!1),_.operator===">"||_.operator===">="){if(u=Vi(o,_,t),u===_&&u!==o)return!1}else if(o.operator===">="&&!ur(o.semver,String(_),t))return!1}if(i){if(E&&_.semver.prerelease&&_.semver.prerelease.length&&_.semver.major===E.major&&_.semver.minor===E.minor&&_.semver.patch===E.patch&&(E=!1),_.operator==="<"||_.operator==="<="){if(h=Xi(i,_,t),h===_&&h!==i)return!1}else if(i.operator==="<="&&!ur(i.semver,String(_),t))return!1}if(!_.operator&&(i||o)&&c!==0)return!1}return!(o&&f&&!i&&c!==0||i&&v&&!o&&c!==0||b||E)},Vi=(e,r,t)=>{if(!e)return r;const n=wn(e.semver,r.semver,t);return n>0?e:n<0||r.operator===">"&&e.operator===">="?r:e},Xi=(e,r,t)=>{if(!e)return r;const n=wn(e.semver,r.semver,t);return n<0?e:n>0||r.operator==="<"&&e.operator==="<="?r:e};var GE=UE;const xt=Le.exports;var Ce={re:xt.re,src:xt.src,tokens:xt.t,SEMVER_SPEC_VERSION:tt.SEMVER_SPEC_VERSION,SemVer:ne,compareIdentifiers:Xt.compareIdentifiers,rcompareIdentifiers:Xt.rcompareIdentifiers,parse:ir,valid:ky,clean:Xy,inc:qy,diff:Qy,major:tg,minor:og,patch:cg,prerelease:fg,compare:pe,rcompare:dg,compareLoose:gg,compareBuild:gn,sort:_g,rsort:Ig,gt:ot,lt:En,eq:yn,neq:Qo,gte:mn,lte:bn,cmp:es,coerce:Xg,Comparator:st(),Range:de(),satisfies:at,toComparators:oE,maxSatisfying:uE,minSatisfying:pE,minVersion:yE,validRange:mE,outside:_n,gtr:RE,ltr:PE,intersects:CE,simplifyRange:FE,subset:GE},Kt=globalThis&&globalThis.__assign||function(){return Kt=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Kt.apply(this,arguments)},Fe,te;(function(e){e.blue="blue",e.nanoS="nanoS",e.nanoSP="nanoSP",e.nanoX="nanoX",e.stax="stax"})(te||(te={}));var qt=(Fe={},Fe[te.blue]={id:te.blue,productName:"Ledger\xA0Blue",productIdMM:0,legacyUsbProductId:0,usbOnly:!0,memorySize:480*1024,masks:[822083584,822149120],getBlockSize:function(e){return 4*1024}},Fe[te.nanoS]={id:te.nanoS,productName:"Ledger\xA0Nano\xA0S",productIdMM:16,legacyUsbProductId:1,usbOnly:!0,memorySize:320*1024,masks:[823132160],getBlockSize:function(e){var r;return Ce.lt((r=Ce.coerce(e))!==null&&r!==void 0?r:"","2.0.0")?4*1024:2*1024}},Fe[te.nanoSP]={id:te.nanoSP,productName:"Ledger Nano S Plus",productIdMM:80,legacyUsbProductId:5,usbOnly:!0,memorySize:1536*1024,masks:[856686592],getBlockSize:function(e){return 32}},Fe[te.nanoX]={id:te.nanoX,productName:"Ledger\xA0Nano\xA0X",productIdMM:64,legacyUsbProductId:4,usbOnly:!1,memorySize:2*1024*1024,masks:[855638016],getBlockSize:function(e){return 4*1024},bluetoothSpec:[{serviceUuid:"13d63400-2c97-0004-0000-4c6564676572",notifyUuid:"13d63400-2c97-0004-0001-4c6564676572",writeUuid:"13d63400-2c97-0004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-0004-0003-4c6564676572"}]},Fe[te.stax]={id:te.stax,productName:"Ledger\xA0Stax",productIdMM:96,legacyUsbProductId:6,usbOnly:!1,memorySize:1536*1024,masks:[857735168],getBlockSize:function(e){return 32},bluetoothSpec:[{serviceUuid:"13d63400-2c97-6004-0000-4c6564676572",notifyUuid:"13d63400-2c97-6004-0001-4c6564676572",writeUuid:"13d63400-2c97-6004-0002-4c6564676572",writeCmdUuid:"13d63400-2c97-6004-0003-4c6564676572"}]},Fe);te.blue,te.nanoS,te.nanoSP,te.nanoX,te.stax;var Yt=Object.values(qt),ns=11415,jE=function(e){var r=Yt.find(function(t){var n=t.masks;return n.find(function(o){return(e&4294901760)===o})});return r},Ki=function(e){var r=Yt.find(function(o){return o.legacyUsbProductId===e});if(r)return r;var t=e>>8,n=Yt.find(function(o){return o.productIdMM===t});return n},kE=[],qi={};for(var HE in qt){var Yi=qt[HE],Ot=Yi.bluetoothSpec;if(Ot)for(var Rt=0;Rt<Ot.length;Rt++){var xr=Ot[Rt];kE.push(xr.serviceUuid),qi[xr.serviceUuid]=qi[xr.serviceUuid.replace(/-/g,"")]=Kt({deviceModel:Yi},xr)}}var zi={nanoX:">=2.1.0",nanoSP:">=1.1.0"},VE=function(e,r){return!!r&&!!zi[r]&&!!Ce.satisfies(Ce.coerce(e)||e,zi[r])};function XE(e){return new Z(function(r){var t=e.unresponsiveTimeout;e.setExchangeUnresponsiveTimeout(1e3);var n=function(){r.next({type:"unresponsive"})};return e.on("unresponsive",n),Xr(e.send(224,1,0,0)).pipe(Kr(function(o){e.off("unresponsive",n);var i=o.slice(0,o.length-2),c=0,u=i.readUIntBE(0,4);c+=4;var h=i[c++],f=i.slice(c,c+h).toString();c+=h;var v=i[c++],E=i.slice(c,c+v);c+=v,h||(f="0.0.0",E=ee.Buffer.allocUnsafeSlow(0));var b="",_,N,R,C,k,J,ie,oe=(u&4026531840)!==805306368;if(oe){if(_=f,k=u,c<i.length){var z=i[c++],Ee=i.slice(c,c+z);if(c+=z,z>=5){N=Ee.toString();var me=i[c++],Be=i.slice(c,c+me);c+=v,J=Be.readUIntBE(0,4)}else J=Ee.readUIntBE(0,4)}}else{N=f,J=u;var be=i[c++],se=ee.Buffer.from(i.slice(c,c+be));c+=be,se[se.length-1]===0&&(se=se.slice(0,se.length-1)),b=se.toString();var A=f.includes("-osu");if(!A){var w=jE(u);if(KE(N,w==null?void 0:w.id)){var O=i[c++],S=ee.Buffer.from(i.slice(c,c+O));c+=O,S[S.length-1]===0&&(S=S.slice(0,S.length-1)),R=S.toString()}if(qE(N,w==null?void 0:w.id)){var x=i[c++];C=i.slice(c,c+x).readUIntBE(0,1),c+=x}if(VE(N,w==null?void 0:w.id)){var T=i[c++];ie=i.slice(c,c+T).readUIntBE(0,1)}}}return Zt({type:"data",firmwareInfo:{isBootloader:oe,rawVersion:f,targetId:u,seVersion:N,mcuVersion:b,mcuBlVersion:_,mcuTargetId:k,seTargetId:J,flags:E,bootloaderVersion:R,hardwareVersion:C,languageId:ie}})}),ca(function(){return e.setExchangeUnresponsiveTimeout(t)})).subscribe(r)})}var Wi={nanoS:">=2.0.0",nanoX:">=2.0.0",nanoSP:">=1.0.0"},KE=function(e,r){return!!r&&!!Wi[r]&&!!Ce.satisfies(Ce.coerce(e)||e,Wi[r])},Ji={nanoX:">=2.0.0"},qE=function(e,r){return!!r&&!!Ji[r]&&!!Ce.satisfies(Ce.coerce(e)||e,Ji[r])};d("FreshAddressIndexInvalid");d("UnsupportedDerivation");d("PolkadotUnauthorizedOperation");d("PolkadotElectionClosed");d("PolkadotNotValidator");d("PolkadotLowBondedBalance");d("PolkadotNoUnlockedBalance");d("PolkadotNoNominations");d("PolkadotAllFundsWarning");d("PolkadotBondMinimumAmount");d("PolkadotBondMinimumAmountWarning");d("PolkadotMaxUnbonding");d("PolkadotValidatorsRequired");d("PolkadotDoMaxSendInstead");d("StellarMemoRecommended");d("StellarWrongMemoFormat");d("StellarAssetRequired");d("StellarAssetNotAccepted");d("StellarAssetNotFound");d("StellarNotEnoughNativeBalance");d("StellarFeeSmallerThanRecommended");d("StellarFeeSmallerThanBase");d("StellarNotEnoughNativeBalanceToAddTrustline");d("StellarMuxedAccountNotExist");d("StellarSourceHasMultiSign");d("StellarBurnAddressError");d("SolanaAccountNotFunded");d("SolanaAssociatedTokenAccountWillBeFunded");d("SolanaMemoIsTooLong");d("SolanaTokenAccountHoldsAnotherToken");d("SolanaTokenAccounNotInitialized");d("SolanaAddressOfEd25519");d("SolanaTokenRecipientIsSenderATA");d("SolanaValidatorRequired");d("SolanaInvalidValidator");d("SolanaStakeAccountRequired");d("SolanaStakeAccountNotFound");d("SolanaStakeAccountNothingToWithdraw");d("SolanaStakeAccountIsNotDelegatable");d("SolanaStakeAccountIsNotUndelegatable");d("SolanaStakeAccountValidatorIsUnchangeable");d("SolanaStakeNoWithdrawAuth");d("SolanaStakeNoStakeAuth");d("SolanaUseAllAmountStakeWarning");d("SolanaTxSimulationFailedWhilePendingOp");d("SolanaTxConfirmationTimeout");d("CardanoMinAmountError");d("CardanoNotEnoughFunds");d("NearNewAccountWarning");d("NearNewNamedAccountError");d("NearActivationFeeNotCovered");d("NearProtocolConfigNotLoaded");d("NearUseAllAmountStakeWarning");d("NearNotEnoughStaked");d("NearNotEnoughAvailable");d("NearRecommendUnstake");d("NearStakingThresholdNotMet");d("EtherscanAPIError");d("GasEstimationError");d("ConnectAppTimeout");d("ConnectManagerTimeout");var YE=d("GetAppAndVersionUnsupportedFormat");d("AccountNeedResync");d("LatestFirmwareVersionRequired");d("FeeEstimationFailed");d("LowerThanMinimumRelayFee");d("TransactionRefusedOnDevice");d("LanguageInstallRefusedOnDevice");d("ImageLoadRefusedOnDevice");d("ImageDoesNotExistOnDevice");d("ImageCommitRefusedOnDevice");d("LanguageInstallTimeout");d("DeviceNotOnboarded");d("InvalidAddressBecauseAlreadyDelegated");d("TronNoFrozenForBandwidth");d("TronNoFrozenForEnergy");d("TronUnfreezeNotExpired");d("TronVoteRequired");d("TronInvalidVoteCount");d("TronRewardNotAvailable");d("TronNoReward");d("TronInvalidFreezeAmount");d("TronSendTrc20ToNewAccountForbidden");d("TronUnexpectedFees");d("TronNotEnoughTronPower");d("TronTransactionExpired");d("TronNotEnoughEnergy");d("AccountAwaitingSendPendingOperations");d("SourceHasMultiSign");d("CosmosRedelegationInProgress");d("ClaimRewardsFeesWarning");d("CosmosDelegateAllFundsWarning");d("CosmosTooManyValidators");d("NotEnoughDelegationBalance");d("RPCHostRequired");d("RPCHostInvalid");d("RPCUserRequired");d("RPCPassRequired");d("CosmosBroadcastCodeInternal"),d("CosmosBroadcastCodeTxDecode"),d("CosmosBroadcastCodeInvalidSequence"),d("CosmosBroadcastCodeUnauthorized"),d("CosmosBroadcastCodeInsufficientFunds"),d("CosmosBroadcastCodeUnknownRequest"),d("CosmosBroadcastCodeInvalidAddress"),d("CosmosBroadcastCodeInvalidPubKey"),d("CosmosBroadcastCodeUnknownAddress"),d("CosmosBroadcastCodeInvalidCoins"),d("CosmosBroadcastCodeOutOfGas"),d("CosmosBroadcastCodeMemoTooLarge"),d("CosmosBroadcastCodeInsufficientFee"),d("CosmosBroadcastCodeTooManySignatures"),d("CosmosBroadcastCodeNoSignatures"),d("CosmosBroadcastCodeJSONMarshal"),d("CosmosBroadcastCodeJSONUnmarshal"),d("CosmosBroadcastCodeInvalidRequest"),d("CosmosBroadcastCodeTxInMempoolCache"),d("CosmosBroadcastCodeMempoolIsFull"),d("CosmosBroadcastTxTooLarge"),d("CosmosBroadcastKeyNotFound"),d("CosmosBroadcastWrongPassword"),d("CosmosBroadcastInvalidSigner"),d("CosmosBroadcastInvalidGasAdjustment"),d("CosmosBroadcastInvalidHeight"),d("CosmosBroadcastInvalidVersion"),d("CosmosBroadcastInvalidChainID"),d("CosmosBroadcastInvalidType"),d("CosmosBroadcastTimeoutHeight"),d("CosmosBroadcastUnknownExtensionOptions"),d("CosmosBroadcastWrongSequence"),d("CosmosBroadcastPackAny"),d("CosmosBroadcastUnpackAny"),d("CosmosBroadcastLogic"),d("CosmosBroadcastConflict");d("SatStackVersionTooOld");d("SatStackAccessDown");d("SatStackStillSyncing");d("SatStackDescriptorNotImported");d("SwapNoAvailableProviders");d("NoSuchAppOnProvider");d("SwapExchangeRateAmountTooLow");d("SwapExchangeRateAmountTooHigh");d("SwapExchangeRateAmountTooLowOrTooHigh");d("SwapCheckKYCStatusFailed");d("SwapSubmitKYCFailed");d("SwapGenericAPIError");d("JSONRPCResponseError");d("JSONDecodeError");d("NoIPHeaderError");d("CurrencyNotSupportedError");d("CurrencyDisabledError");d("CurrencyDisabledAsInputError");d("CurrencyDisabledAsOutputError");d("CurrencyNotSupportedByProviderError");d("TradeMethodNotSupportedError");d("UnexpectedError");d("NotImplementedError");d("ValidationError");d("AccessDeniedError");d("AlgorandASANotOptInInRecipient");d("CompoundLowerAllowanceOfActiveAccountError");d("OutdatedApp");d("FwUpdateBluetoothNotSupported");d("EConnReset");function zE(e){return new Z(function(r){return Xr(e.send(176,1,0,0)).pipe(Kr(function(t){var n=0,o=t[n++];if(o!==1)throw new YE("getAppAndVersion: format not supported");var i=t[n++],c=t.slice(n,n+=i).toString("ascii"),u=t[n++],h=t.slice(n,n+=u).toString("ascii"),f=t[n++],v=t.slice(n,n+=f);return Zt({type:"data",appAndVersion:{name:c,version:h,flags:v}})})).subscribe(r)})}var WE=function(e){if(!e)return!1;var r=["lo","rc","il","tr"];return r.some(function(t){return e.includes("-"+t)})},JE=["BOLOS","OLOS\0"],ZE=function(e){return JE.includes(e)},QE={das:2,club:3,shitcoins:4,ee:5},em=3e4;function rm(e){return function(r){return new Z(function(t){return e(r).pipe(wa(em),da(Xv(function(n){return n instanceof Yr?(t.next({type:"error",error:n}),!0):!1})),Lt(function(n){return Zt({type:"error",error:n})})).subscribe(t)})}}var tm=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},nm=8,im=128;function om(e){var r=e.deviceId;return new Z(function(t){return Co(r)(function(n){return zE(n).pipe(ea(function(o){var i=o.appAndVersion.name;return ZE(i)?!0:(t.next({type:"taskError",error:"DeviceOnDashboardExpected"}),!1)}),Kr(function(){return XE(n)}),en(function(o){if(o.type==="unresponsive")return{type:"error",error:new Yr};var i=o.firmwareInfo,c=i.isBootloader,u=i.rawVersion,h=i.targetId,f=i.seVersion,v=i.seTargetId,E=i.mcuBlVersion,b=i.mcuVersion,_=i.mcuTargetId,N=i.flags,R=i.bootloaderVersion,C=i.hardwareVersion,k=i.languageId,J=u.includes("-osu"),ie=u.replace("-osu",""),oe=u.match(/([0-9]+.[0-9]+)(.[0-9]+)?(-(.*))?/),z=tm(oe||[],5),Ee=z[1],me=z[4],Be=QE[me]?me:null,be=N.length>0?N[0]:0,se=!!(be&nm),A=!!(be&im),w=!1,O=!0;N.length===4&&(w=!!(N[0]&1),O=!!(N[0]&4)),$e("hw","deviceInfo: se@"+ie+" mcu@"+b+(J?" (osu)":c?" (bootloader)":""));var S=WE(f),x={version:ie,mcuVersion:b,seVersion:f,mcuBlVersion:E,majMin:Ee,providerName:Be||null,targetId:h,hasDevFirmware:S,seTargetId:v,mcuTargetId:_,isOSU:J,isBootloader:c,isRecoveryMode:w,managerAllowed:se,pinValidated:A,onboarded:O,bootloaderVersion:R,hardwareVersion:C,languageId:k};return{type:"data",deviceInfo:x}}))}).subscribe(t)})}var sm=rm(om),Ae=globalThis&&globalThis.__assign||function(){return Ae=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++){r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},Ae.apply(this,arguments)},Zi=Ae({deviceInfo:null},xy);function am(e){var r=e.deviceId;return sm({deviceId:r}).pipe(fa(function(t,n){switch(n.type){case"taskError":return Ae(Ae({},Zi),{error:{type:n.error}});case"data":return Ae(Ae({},t),{error:null,deviceInfo:n.deviceInfo});case"error":return Ae(Ae({},t),Ty({event:n}))}},Zi))}navigator.hid.addEventListener("connect",e=>{console.log(`\u{1F52E} HID connect: ${JSON.stringify(e)}`)});navigator.hid.addEventListener("disconnect",e=>{console.log(`\u{1F52E} HID disconnect: ${JSON.stringify(e)}`)});function cm(e){return new ge(r=>{e.send(176,167,0,0).then(()=>{r.next(),r.complete()})})}const um=()=>{const[e,r]=Re.exports.useState(null),[t,n]=Re.exports.useState(!1),i=((h,f)=>{const v=Re.exports.useRef({cb:h});return Re.exports.useEffect(()=>{v.current={cb:h}},f),Re.exports.useCallback(E=>{const b=()=>{E.off("disconnect",b),v.current.cb(E)};E.on("disconnect",b)},[v])})(h=>{e===h?r(null):console.log(`\u274C disconnecting to an unknown transport ${h}`)},[e]),c=Re.exports.useCallback(()=>{n(!0),r(null),no("webhid").then(h=>{console.log(`\u{1F52E} opening transport: ${JSON.stringify(h)}`),n(!1),r(h),i(h)},h=>{n(!1),console.log(`\u274C error opening transport: ${JSON.stringify(h)}`)})},[i]);Re.exports.useCallback(()=>{Co("webhid")(h=>cm(h).pipe(Sy(()=>Iy(La(h,"Ethereum"))))).subscribe({next:h=>console.log(`\u{1F52E} next: ${JSON.stringify(h)}`),complete:()=>console.log("\u{1F52E} app close and open complete"),error:h=>console.log(`\u{1F52E} error: ${JSON.stringify(h)}`)})},[e]);const u=Re.exports.useCallback(()=>{am({deviceId:"webhid"}).subscribe({next:h=>console.log(`\u{1F52E} next: ${JSON.stringify(h)}`),complete:()=>console.log("\u{1F52E} app close and open complete"),error:h=>console.log(`\u{1F52E} error: ${JSON.stringify(h)}`)})},[e]);return Nr("div",{className:"App",children:bs("header",{className:"App-header",children:[Nr("button",{onClick:c,children:"Connect to transport"}),Nr("button",{onClick:u,children:"Open ethereum app"})]})})};var An={exports:{}},Ze=typeof Reflect=="object"?Reflect:null,Qi=Ze&&typeof Ze.apply=="function"?Ze.apply:function(r,t,n){return Function.prototype.apply.call(r,t,n)},Lr;Ze&&typeof Ze.ownKeys=="function"?Lr=Ze.ownKeys:Object.getOwnPropertySymbols?Lr=function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Lr=function(r){return Object.getOwnPropertyNames(r)};function lm(e){console&&console.warn&&console.warn(e)}var is=Number.isNaN||function(r){return r!==r};function G(){G.init.call(this)}An.exports=G;An.exports.once=dm;G.EventEmitter=G;G.prototype._events=void 0;G.prototype._eventsCount=0;G.prototype._maxListeners=void 0;var eo=10;function ct(e){if(typeof e!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}Object.defineProperty(G,"defaultMaxListeners",{enumerable:!0,get:function(){return eo},set:function(e){if(typeof e!="number"||e<0||is(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");eo=e}});G.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};G.prototype.setMaxListeners=function(r){if(typeof r!="number"||r<0||is(r))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+r+".");return this._maxListeners=r,this};function os(e){return e._maxListeners===void 0?G.defaultMaxListeners:e._maxListeners}G.prototype.getMaxListeners=function(){return os(this)};G.prototype.emit=function(r){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var o=r==="error",i=this._events;if(i!==void 0)o=o&&i.error===void 0;else if(!o)return!1;if(o){var c;if(t.length>0&&(c=t[0]),c instanceof Error)throw c;var u=new Error("Unhandled error."+(c?" ("+c.message+")":""));throw u.context=c,u}var h=i[r];if(h===void 0)return!1;if(typeof h=="function")Qi(h,this,t);else for(var f=h.length,v=ls(h,f),n=0;n<f;++n)Qi(v[n],this,t);return!0};function ss(e,r,t,n){var o,i,c;if(ct(t),i=e._events,i===void 0?(i=e._events=Object.create(null),e._eventsCount=0):(i.newListener!==void 0&&(e.emit("newListener",r,t.listener?t.listener:t),i=e._events),c=i[r]),c===void 0)c=i[r]=t,++e._eventsCount;else if(typeof c=="function"?c=i[r]=n?[t,c]:[c,t]:n?c.unshift(t):c.push(t),o=os(e),o>0&&c.length>o&&!c.warned){c.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+c.length+" "+String(r)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=e,u.type=r,u.count=c.length,lm(u)}return e}G.prototype.addListener=function(r,t){return ss(this,r,t,!1)};G.prototype.on=G.prototype.addListener;G.prototype.prependListener=function(r,t){return ss(this,r,t,!0)};function fm(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function as(e,r,t){var n={fired:!1,wrapFn:void 0,target:e,type:r,listener:t},o=fm.bind(n);return o.listener=t,n.wrapFn=o,o}G.prototype.once=function(r,t){return ct(t),this.on(r,as(this,r,t)),this};G.prototype.prependOnceListener=function(r,t){return ct(t),this.prependListener(r,as(this,r,t)),this};G.prototype.removeListener=function(r,t){var n,o,i,c,u;if(ct(t),o=this._events,o===void 0)return this;if(n=o[r],n===void 0)return this;if(n===t||n.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete o[r],o.removeListener&&this.emit("removeListener",r,n.listener||t));else if(typeof n!="function"){for(i=-1,c=n.length-1;c>=0;c--)if(n[c]===t||n[c].listener===t){u=n[c].listener,i=c;break}if(i<0)return this;i===0?n.shift():hm(n,i),n.length===1&&(o[r]=n[0]),o.removeListener!==void 0&&this.emit("removeListener",r,u||t)}return this};G.prototype.off=G.prototype.removeListener;G.prototype.removeAllListeners=function(r){var t,n,o;if(n=this._events,n===void 0)return this;if(n.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):n[r]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete n[r]),this;if(arguments.length===0){var i=Object.keys(n),c;for(o=0;o<i.length;++o)c=i[o],c!=="removeListener"&&this.removeAllListeners(c);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=n[r],typeof t=="function")this.removeListener(r,t);else if(t!==void 0)for(o=t.length-1;o>=0;o--)this.removeListener(r,t[o]);return this};function cs(e,r,t){var n=e._events;if(n===void 0)return[];var o=n[r];return o===void 0?[]:typeof o=="function"?t?[o.listener||o]:[o]:t?pm(o):ls(o,o.length)}G.prototype.listeners=function(r){return cs(this,r,!0)};G.prototype.rawListeners=function(r){return cs(this,r,!1)};G.listenerCount=function(e,r){return typeof e.listenerCount=="function"?e.listenerCount(r):us.call(e,r)};G.prototype.listenerCount=us;function us(e){var r=this._events;if(r!==void 0){var t=r[e];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}G.prototype.eventNames=function(){return this._eventsCount>0?Lr(this._events):[]};function ls(e,r){for(var t=new Array(r),n=0;n<r;++n)t[n]=e[n];return t}function hm(e,r){for(;r+1<e.length;r++)e[r]=e[r+1];e.pop()}function pm(e){for(var r=new Array(e.length),t=0;t<r.length;++t)r[t]=e[t].listener||e[t];return r}function dm(e,r){return new Promise(function(t,n){function o(c){e.removeListener(r,i),n(c)}function i(){typeof e.removeListener=="function"&&e.removeListener("error",o),t([].slice.call(arguments))}fs(e,r,i,{once:!0}),r!=="error"&&vm(e,o,{once:!0})})}function vm(e,r,t){typeof e.on=="function"&&fs(e,"error",r,t)}function fs(e,r,t,n){if(typeof e.on=="function")n.once?e.once(r,t):e.on(r,t);else if(typeof e.addEventListener=="function")e.addEventListener(r,function o(i){n.once&&e.removeEventListener(r,o),t(i)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e)}var Or=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(v){try{f(n.next(v))}catch(E){c(E)}}function h(v){try{f(n.throw(v))}catch(E){c(E)}}function f(v){v.done?i(v.value):o(v.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Rr=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(v){f=[6,v],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},ro=globalThis&&globalThis.__values||function(e){var r=typeof Symbol=="function"&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ym=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},gm=globalThis&&globalThis.__spreadArray||function(e,r,t){if(t||arguments.length===2)for(var n=0,o=r.length,i;n<o;n++)(i||!(n in r))&&(i||(i=Array.prototype.slice.call(r,0,n)),i[n]=r[n]);return e.concat(i||Array.prototype.slice.call(r))},Em=function(){function e(){var r=this;this.exchangeTimeout=3e4,this.unresponsiveTimeout=15e3,this.deviceModel=null,this._events=new An.exports,this.send=function(t,n,o,i,c,u){return c===void 0&&(c=ee.Buffer.alloc(0)),u===void 0&&(u=[lr.OK]),Or(r,void 0,void 0,function(){var h,f;return Rr(this,function(v){switch(v.label){case 0:if(c.length>=256)throw new Pe("data.length exceed 256 bytes limit. Got: "+c.length,"DataLengthTooBig");return[4,this.exchange(ee.Buffer.concat([ee.Buffer.from([t,n,o,i]),ee.Buffer.from([c.length]),c]))];case 1:if(h=v.sent(),f=h.readUInt16BE(h.length-2),!u.some(function(E){return E===f}))throw new Br(f);return[2,h]}})})},this.exchangeAtomicImpl=function(t){return Or(r,void 0,void 0,function(){var n,o,i,c,u,h=this;return Rr(this,function(f){switch(f.label){case 0:if(this.exchangeBusyPromise)throw new ka("An action was already pending on the Ledger device. Please deny or reconnect.");o=new Promise(function(v){n=v}),this.exchangeBusyPromise=o,i=!1,c=setTimeout(function(){i=!0,h.emit("unresponsive")},this.unresponsiveTimeout),f.label=1;case 1:return f.trys.push([1,,3,4]),[4,t()];case 2:return u=f.sent(),i&&this.emit("responsive"),[2,u];case 3:return clearTimeout(c),n&&n(),this.exchangeBusyPromise=null,[7];case 4:return[2]}})})},this._appAPIlock=null}return e.prototype.exchange=function(r){throw new Error("exchange not implemented")},e.prototype.exchangeBulk=function(r,t){var n=this,o=!1,i=function(){o=!0},c=function(){return Or(n,void 0,void 0,function(){var u,h,f,v,E,b,_,N;return Rr(this,function(R){switch(R.label){case 0:if(o)return[2];R.label=1;case 1:R.trys.push([1,6,7,8]),u=ro(r),h=u.next(),R.label=2;case 2:return h.done?[3,5]:(f=h.value,[4,this.exchange(f)]);case 3:if(v=R.sent(),o)return[2];if(E=v.readUInt16BE(v.length-2),E!==lr.OK)throw new Br(E);t.next(v),R.label=4;case 4:return h=u.next(),[3,2];case 5:return[3,8];case 6:return b=R.sent(),_={error:b},[3,8];case 7:try{h&&!h.done&&(N=u.return)&&N.call(u)}finally{if(_)throw _.error}return[7];case 8:return[2]}})})};return c().then(function(){return!o&&t.complete()},function(u){return!o&&t.error(u)}),{unsubscribe:i}},e.prototype.setScrambleKey=function(r){},e.prototype.close=function(){return Promise.resolve()},e.prototype.on=function(r,t){this._events.on(r,t)},e.prototype.off=function(r,t){this._events.removeListener(r,t)},e.prototype.emit=function(r){for(var t,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];(t=this._events).emit.apply(t,gm([r],ym(n),!1))},e.prototype.setDebugMode=function(){console.warn("setDebugMode is deprecated. use @ledgerhq/logs instead. No logs are emitted in this anymore.")},e.prototype.setExchangeTimeout=function(r){this.exchangeTimeout=r},e.prototype.setExchangeUnresponsiveTimeout=function(r){this.unresponsiveTimeout=r},e.create=function(r,t){var n=this;return r===void 0&&(r=3e3),new Promise(function(o,i){var c=!1,u=n.listen({next:function(f){c=!0,u&&u.unsubscribe(),h&&clearTimeout(h),n.open(f.descriptor,r).then(o,i)},error:function(f){h&&clearTimeout(h),i(f)},complete:function(){h&&clearTimeout(h),c||i(new Pe(n.ErrorMessage_NoDeviceFound,"NoDeviceFound"))}}),h=t?setTimeout(function(){u.unsubscribe(),i(new Pe(n.ErrorMessage_ListenTimeout,"ListenTimeout"))},t):null})},e.prototype.decorateAppAPIMethods=function(r,t,n){var o,i;try{for(var c=ro(t),u=c.next();!u.done;u=c.next()){var h=u.value;r[h]=this.decorateAppAPIMethod(h,r[h],r,n)}}catch(f){o={error:f}}finally{try{u&&!u.done&&(i=c.return)&&i.call(c)}finally{if(o)throw o.error}}},e.prototype.decorateAppAPIMethod=function(r,t,n,o){var i=this;return function(){for(var c=[],u=0;u<arguments.length;u++)c[u]=arguments[u];return Or(i,void 0,void 0,function(){var h;return Rr(this,function(f){switch(f.label){case 0:if(h=this._appAPIlock,h)return[2,Promise.reject(new Pe("Ledger Device is busy (lock "+h+")","TransportLocked"))];f.label=1;case 1:return f.trys.push([1,,3,4]),this._appAPIlock=r,this.setScrambleKey(o),[4,t.apply(n,c)];case 2:return[2,f.sent()];case 3:return this._appAPIlock=null,[7];case 4:return[2]}})})}},e.ErrorMessage_ListenTimeout="No Ledger device found (timeout)",e.ErrorMessage_NoDeviceFound="No Ledger device found",e}(),to=5;function mm(e){var r=ee.Buffer.alloc(2);return r.writeUInt16BE(e,0),r}var bm={data:ee.Buffer.alloc(0),dataLength:0,sequence:0},_m=function(e,r){return{makeBlocks:function(t){var n=ee.Buffer.concat([mm(t.length),t]),o=r-5,i=Math.ceil(n.length/o);n=ee.Buffer.concat([n,ee.Buffer.alloc(i*o-n.length+1).fill(0)]);for(var c=[],u=0;u<i;u++){var h=ee.Buffer.alloc(5);h.writeUInt16BE(e,0),h.writeUInt8(to,2),h.writeUInt16BE(u,3);var f=n.slice(u*o,(u+1)*o);c.push(ee.Buffer.concat([h,f]))}return c},reduceResponse:function(t,n){var o=t||bm,i=o.data,c=o.dataLength,u=o.sequence;if(n.readUInt16BE(0)!==e)throw new Pe("Invalid channel","InvalidChannel");if(n.readUInt8(2)!==to)throw new Pe("Invalid tag","InvalidTag");if(n.readUInt16BE(3)!==u)throw new Pe("Invalid sequence","InvalidSequence");t||(c=n.readUInt16BE(5)),u++;var h=n.slice(t?5:7);return i=ee.Buffer.concat([i,h]),i.length>c&&(i=i.slice(0,c)),{data:i,dataLength:c,sequence:u}},getReducedResult:function(t){if(t&&t.dataLength===t.data.length)return t.data}}},wm=globalThis&&globalThis.__extends||function(){var e=function(r,t){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])},e(r,t)};return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");e(r,t);function n(){this.constructor=r}r.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}}(),Ie=globalThis&&globalThis.__awaiter||function(e,r,t,n){function o(i){return i instanceof t?i:new t(function(c){c(i)})}return new(t||(t=Promise))(function(i,c){function u(v){try{f(n.next(v))}catch(E){c(E)}}function h(v){try{f(n.throw(v))}catch(E){c(E)}}function f(v){v.done?i(v.value):o(v.value).then(u,h)}f((n=n.apply(e,r||[])).next())})},Se=globalThis&&globalThis.__generator||function(e,r){var t={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,c;return c={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(c[Symbol.iterator]=function(){return this}),c;function u(f){return function(v){return h([f,v])}}function h(f){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,o&&(i=f[0]&2?o.return:f[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,f[1])).done)return i;switch(o=0,i&&(f=[f[0]&2,i.value]),f[0]){case 0:case 1:i=f;break;case 4:return t.label++,{value:f[1],done:!1};case 5:t.label++,o=f[1],f=[0];continue;case 7:f=t.ops.pop(),t.trys.pop();continue;default:if(i=t.trys,!(i=i.length>0&&i[i.length-1])&&(f[0]===6||f[0]===2)){t=0;continue}if(f[0]===3&&(!i||f[1]>i[0]&&f[1]<i[3])){t.label=f[1];break}if(f[0]===6&&t.label<i[1]){t.label=i[1],i=f;break}if(i&&t.label<i[2]){t.label=i[2],t.ops.push(f);break}i[2]&&t.ops.pop(),t.trys.pop();continue}f=r.call(e,t)}catch(v){f=[6,v],o=0}finally{n=i=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}},Am=globalThis&&globalThis.__read||function(e,r){var t=typeof Symbol=="function"&&e[Symbol.iterator];if(!t)return e;var n=t.call(e),o,i=[],c;try{for(;(r===void 0||r-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(u){c={error:u}}finally{try{o&&!o.done&&(t=n.return)&&t.call(n)}finally{if(c)throw c.error}}return i},Im=[{vendorId:ns}],Sm=function(){return Promise.resolve(!!(window.navigator&&window.navigator.hid))},kr=function(){var e=navigator.hid;if(!e)throw new Pe("navigator.hid is not supported","HIDNotSupported");return e};function hs(){return Ie(this,void 0,void 0,function(){var e;return Se(this,function(r){switch(r.label){case 0:return[4,kr().requestDevice({filters:Im})];case 1:return e=r.sent(),Array.isArray(e)?[2,e]:[2,[e]]}})})}function zt(){return Ie(this,void 0,void 0,function(){var e;return Se(this,function(r){switch(r.label){case 0:return[4,kr().getDevices()];case 1:return e=r.sent(),[2,e.filter(function(t){return t.vendorId===ns})]}})})}function Tm(){return Ie(this,void 0,void 0,function(){var e,r;return Se(this,function(t){switch(t.label){case 0:return[4,zt()];case 1:return e=t.sent(),e.length>0?[2,e[0]]:[4,hs()];case 2:return r=t.sent(),[2,r[0]]}})})}var xm=function(e){wm(r,e);function r(t){var n=e.call(this)||this;return n.channel=Math.floor(Math.random()*65535),n.packetSize=64,n.inputs=[],n.read=function(){return n.inputs.length?Promise.resolve(n.inputs.shift()):new Promise(function(o){n.inputCallback=o})},n.onInputReport=function(o){var i=ee.Buffer.from(o.data.buffer);n.inputCallback?(n.inputCallback(i),n.inputCallback=null):n.inputs.push(i)},n._disconnectEmitted=!1,n._emitDisconnect=function(o){n._disconnectEmitted||(n._disconnectEmitted=!0,n.emit("disconnect",o))},n.exchange=function(o){return Ie(n,void 0,void 0,function(){var i,c=this;return Se(this,function(u){switch(u.label){case 0:return[4,this.exchangeAtomicImpl(function(){return Ie(c,void 0,void 0,function(){var h,f,v,E,b,_,N,R,C;return Se(this,function(k){switch(k.label){case 0:h=this,f=h.channel,v=h.packetSize,$e("apdu","=> "+o.toString("hex")),E=_m(f,v),b=E.makeBlocks(o),_=0,k.label=1;case 1:return _<b.length?[4,this.device.sendReport(0,b[_])]:[3,4];case 2:k.sent(),k.label=3;case 3:return _++,[3,1];case 4:return(N=E.getReducedResult(R))?[3,6]:[4,this.read()];case 5:return C=k.sent(),R=E.reduceResponse(R,C),[3,4];case 6:return $e("apdu","<= "+N.toString("hex")),[2,N]}})})}).catch(function(h){throw h&&h.message&&h.message.includes("write")?(c._emitDisconnect(h),new Ga(h.message)):h})];case 1:return i=u.sent(),[2,i]}})})},n.device=t,n.deviceModel=typeof t.productId=="number"?Ki(t.productId):void 0,t.addEventListener("inputreport",n.onInputReport),n}return r.request=function(){return Ie(this,void 0,void 0,function(){var t,n;return Se(this,function(o){switch(o.label){case 0:return[4,hs()];case 1:return t=Am.apply(void 0,[o.sent(),1]),n=t[0],[2,r.open(n)]}})})},r.openConnected=function(){return Ie(this,void 0,void 0,function(){var t;return Se(this,function(n){switch(n.label){case 0:return[4,zt()];case 1:return t=n.sent(),t.length===0?[2,null]:[2,r.open(t[0])]}})})},r.open=function(t){return Ie(this,void 0,void 0,function(){var n,o;return Se(this,function(i){switch(i.label){case 0:return[4,t.open()];case 1:return i.sent(),n=new r(t),o=function(c){t===c.device&&(kr().removeEventListener("disconnect",o),n._emitDisconnect(new Ma))},kr().addEventListener("disconnect",o),[2,n]}})})},r.prototype.close=function(){return Ie(this,void 0,void 0,function(){return Se(this,function(t){switch(t.label){case 0:return[4,this.exchangeBusyPromise];case 1:return t.sent(),this.device.removeEventListener("inputreport",this.onInputReport),[4,this.device.close()];case 2:return t.sent(),[2]}})})},r.prototype.setScrambleKey=function(){},r.isSupported=Sm,r.list=zt,r.listen=function(t){var n=!1;Tm().then(function(i){if(!i)t.error(new Un("Access denied to use Ledger device"));else if(!n){var c=typeof i.productId=="number"?Ki(i.productId):void 0;t.next({type:"add",descriptor:i,deviceModel:c}),t.complete()}},function(i){t.error(new Un(i.message))});function o(){n=!0}return{unsubscribe:o}},r}(Em);console.log("\u{1F680} New tab is running in production mode");As({id:"webhid",open:e=>e.startsWith("webhid")?xm.create():null,disconnect:e=>e.startsWith("webhid")?Promise.resolve():null});function Om(){const e=document.querySelector("#app-container");if(!e)throw new Error("Can not find #app-container");_s(e).render(Nr(um,{}))}Om();
